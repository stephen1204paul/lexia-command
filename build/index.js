(()=>{"use strict";var e,t,n={20:(e,t,n)=>{var a=n(609),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var a,r={},l=null,u=null;for(a in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,a)&&!c.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:o,type:e,key:l,ref:u,props:r,_owner:s.current}}t.Fragment=r,t.jsx=l,t.jsxs=l},848:(e,t,n)=>{e.exports=n(20)},493:(e,t,n)=>{var a=n(609),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useState,i=a.useEffect,s=a.useLayoutEffect,c=a.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=r({inst:{value:n,getSnapshot:t}}),o=a[0].inst,u=a[1];return s((function(){o.value=n,o.getSnapshot=t,l(o)&&u({inst:o})}),[e,n,t]),i((function(){return l(o)&&u({inst:o}),e((function(){l(o)&&u({inst:o})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},888:(e,t,n)=>{e.exports=n(493)},609:e=>{e.exports=window.React}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var r=Object.create(null);o.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,o.d(r,i),r},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var r=o(609),i=o.t(r,2);const s=window.wp.element,c=window.wp.i18n,l=window.wp.apiFetch;var u=o.n(l),d=.999,m=/[\\\/_+.#"@\[\(\{&]/,p=/[\\\/_+.#"@\[\(\{&]/g,h=/[\s-]/,f=/[\s-]/g;function g(e,t,n,a,o,r,i){if(r===t.length)return o===e.length?1:.99;var s=`${o},${r}`;if(void 0!==i[s])return i[s];for(var c,l,u,y,w=a.charAt(r),x=n.indexOf(w,o),v=0;x>=0;)(c=g(e,t,n,a,x+1,r+1,i))>v&&(x===o?c*=1:m.test(e.charAt(x-1))?(c*=.8,(u=e.slice(o,x-1).match(p))&&o>0&&(c*=Math.pow(d,u.length))):h.test(e.charAt(x-1))?(c*=.9,(y=e.slice(o,x-1).match(f))&&o>0&&(c*=Math.pow(d,y.length))):(c*=.17,o>0&&(c*=Math.pow(d,x-o))),e.charAt(x)!==t.charAt(r)&&(c*=.9999)),(c<.1&&n.charAt(x-1)===a.charAt(r+1)||a.charAt(r+1)===a.charAt(r)&&n.charAt(x-1)!==a.charAt(r))&&.1*(l=g(e,t,n,a,x+1,r+2,i))>c&&(c=.1*l),c>v&&(v=c),x=n.indexOf(w,x+1);return i[s]=v,v}function y(e){return e.toLowerCase().replace(f," ")}function w(e,t,n){return g(e=n&&n.length>0?e+" "+n.join(" "):e,t,y(e),y(t),0,0,{})}function x(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),!1===n||!a.defaultPrevented)return t?.(a)}}function v(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function E(...e){return t=>{let n=!1;const a=e.map((e=>{const a=v(e,t);return n||"function"!=typeof a||(n=!0),a}));if(n)return()=>{for(let t=0;t<a.length;t++){const n=a[t];"function"==typeof n?n():v(e[t],null)}}}}function b(...e){return r.useCallback(E(...e),e)}var C=o(848);function _(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const a=n.reduce(((t,{useScope:n,scopeName:a})=>({...t,...n(e)[`__scope${a}`]})),{});return r.useMemo((()=>({[`__scope${t.scopeName}`]:a})),[a])}};return n.scopeName=t.scopeName,n}var k=Boolean(globalThis?.document)?r.useLayoutEffect:()=>{},S=i["useId".toString()]||(()=>{}),A=0;function N(e){const[t,n]=r.useState(S());return k((()=>{e||n((e=>e??String(A++)))}),[e]),e||(t?`radix-${t}`:"")}function M(e){const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),r.useMemo((()=>(...e)=>t.current?.(...e)),[])}const D=window.ReactDOM;var I=r.forwardRef(((e,t)=>{const{children:n,...a}=e,o=r.Children.toArray(n),i=o.find(R);if(i){const e=i.props.children,n=o.map((t=>t===i?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t));return(0,C.jsx)(P,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,C.jsx)(P,{...a,ref:t,children:n})}));I.displayName="Slot";var P=r.forwardRef(((e,t)=>{const{children:n,...a}=e;if(r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}(n),o=function(e,t){const n={...t};for(const a in t){const o=e[a],r=t[a];/^on[A-Z]/.test(a)?o&&r?n[a]=(...e)=>{r(...e),o(...e)}:o&&(n[a]=o):"style"===a?n[a]={...o,...r}:"className"===a&&(n[a]=[o,r].filter(Boolean).join(" "))}return{...e,...n}}(a,n.props);return n.type!==r.Fragment&&(o.ref=t?E(t,e):e),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null}));P.displayName="SlotClone";var L=({children:e})=>(0,C.jsx)(C.Fragment,{children:e});function R(e){return r.isValidElement(e)&&e.type===L}var F,B=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=r.forwardRef(((e,n)=>{const{asChild:a,...o}=e,r=a?I:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,C.jsx)(r,{...o,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{}),T="dismissableLayer.update",O=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$=r.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:c,...l}=e,u=r.useContext(O),[d,m]=r.useState(null),p=d?.ownerDocument??globalThis?.document,[,h]=r.useState({}),f=b(t,(e=>m(e))),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),v=d?g.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=w,k=function(e,t=globalThis?.document){const n=M(e),a=r.useRef(!1),o=r.useRef((()=>{}));return r.useEffect((()=>{const e=e=>{if(e.target&&!a.current){let a=function(){U("dismissableLayer.pointerDownOutside",n,r,{discrete:!0})};const r={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=a,t.addEventListener("click",o.current,{once:!0})):a()}else t.removeEventListener("click",o.current);a.current=!1},r=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}}),[t,n]),{onPointerDownCapture:()=>a.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));_&&!n&&(o?.(e),s?.(e),e.defaultPrevented||c?.())}),p),S=function(e,t=globalThis?.document){const n=M(e),a=r.useRef(!1);return r.useEffect((()=>{const e=e=>{e.target&&!a.current&&U("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(i?.(e),s?.(e),e.defaultPrevented||c?.())}),p);return function(e,t=globalThis?.document){const n=M(e);r.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{v===u.layers.size-1&&(a?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))}),p),r.useEffect((()=>{if(d)return n&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(F=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),j(),()=>{n&&1===u.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=F)}}),[d,p,n,u]),r.useEffect((()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),j())}),[d,u]),r.useEffect((()=>{const e=()=>h({});return document.addEventListener(T,e),()=>document.removeEventListener(T,e)}),[]),(0,C.jsx)(B.div,{...l,ref:f,style:{pointerEvents:E?_?"auto":"none":void 0,...e.style},onFocusCapture:x(e.onFocusCapture,S.onFocusCapture),onBlurCapture:x(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:x(e.onPointerDownCapture,k.onPointerDownCapture)})}));function j(){const e=new CustomEvent(T);document.dispatchEvent(e)}function U(e,t,n,{discrete:a}){const o=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),a?function(e,t){e&&D.flushSync((()=>e.dispatchEvent(t)))}(o,r):o.dispatchEvent(r)}$.displayName="DismissableLayer",r.forwardRef(((e,t)=>{const n=r.useContext(O),a=r.useRef(null),o=b(t,a);return r.useEffect((()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),(0,C.jsx)(B.div,{...e,ref:o})})).displayName="DismissableLayerBranch";var W="focusScope.autoFocusOnMount",z="focusScope.autoFocusOnUnmount",K={bubbles:!1,cancelable:!0},V=r.forwardRef(((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[c,l]=r.useState(null),u=M(o),d=M(i),m=r.useRef(null),p=b(t,(e=>l(e))),h=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect((()=>{if(a){let e=function(e){if(h.paused||!c)return;const t=e.target;c.contains(t)?m.current=t:Y(m.current,{select:!0})},t=function(e){if(h.paused||!c)return;const t=e.relatedTarget;null!==t&&(c.contains(t)||Y(m.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Y(c)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const a=new MutationObserver(n);return c&&a.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),a.disconnect()}}}),[a,c,h.paused]),r.useEffect((()=>{if(c){J.add(h);const e=document.activeElement;if(!c.contains(e)){const t=new CustomEvent(W,K);c.addEventListener(W,u),c.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(Y(a,{select:t}),document.activeElement!==n)return}(G(c).filter((e=>"A"!==e.tagName)),{select:!0}),document.activeElement===e&&Y(c))}return()=>{c.removeEventListener(W,u),setTimeout((()=>{const t=new CustomEvent(z,K);c.addEventListener(z,d),c.dispatchEvent(t),t.defaultPrevented||Y(e??document.body,{select:!0}),c.removeEventListener(z,d),J.remove(h)}),0)}}}),[c,u,d,h]);const f=r.useCallback((e=>{if(!n&&!a)return;if(h.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,o=document.activeElement;if(t&&o){const t=e.currentTarget,[a,r]=function(e){const t=G(e);return[H(t,e),H(t.reverse(),e)]}(t);a&&r?e.shiftKey||o!==r?e.shiftKey&&o===a&&(e.preventDefault(),n&&Y(r,{select:!0})):(e.preventDefault(),n&&Y(a,{select:!0})):o===t&&e.preventDefault()}}),[n,a,h.paused]);return(0,C.jsx)(B.div,{tabIndex:-1,...s,ref:p,onKeyDown:f})}));function G(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function H(e,t){for(const n of e)if(!q(n,{upTo:t}))return n}function q(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Y(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}V.displayName="FocusScope";var J=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=X(e,t),e.unshift(t)},remove(t){e=X(e,t),e[0]?.resume()}}}();function X(e,t){const n=[...e],a=n.indexOf(t);return-1!==a&&n.splice(a,1),n}var Z=r.forwardRef(((e,t)=>{const{container:n,...a}=e,[o,i]=r.useState(!1);k((()=>i(!0)),[]);const s=n||o&&globalThis?.document?.body;return s?D.createPortal((0,C.jsx)(B.div,{...a,ref:t}),s):null}));Z.displayName="Portal";var Q=e=>{const{present:t,children:n}=e,a=function(e){const[t,n]=r.useState(),a=r.useRef({}),o=r.useRef(e),i=r.useRef("none"),s=e?"mounted":"unmounted",[c,l]=function(e,t){return r.useReducer(((e,n)=>t[e][n]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect((()=>{const e=ee(a.current);i.current="mounted"===c?e:"none"}),[c]),k((()=>{const t=a.current,n=o.current;if(n!==e){const a=i.current,r=ee(t);l(e?"MOUNT":"none"===r||"none"===t?.display?"UNMOUNT":n&&a!==r?"ANIMATION_OUT":"UNMOUNT"),o.current=e}}),[e,l]),k((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const i=ee(a.current).includes(r.animationName);if(r.target===t&&i&&(l("ANIMATION_END"),!o.current)){const a=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=a)}))}},s=e=>{e.target===t&&(i.current=ee(a.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback((e=>{e&&(a.current=getComputedStyle(e)),n(e)}),[])}}(t),o="function"==typeof n?n({present:a.isPresent}):r.Children.only(n),i=b(a.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}(o));return"function"==typeof n||a.isPresent?r.cloneElement(o,{ref:i}):null};function ee(e){return e?.animationName||"none"}Q.displayName="Presence";var te=0;function ne(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ae=function(){return ae=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ae.apply(this,arguments)};function oe(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var re="right-scroll-bar-position",ie="width-before-scroll-bar";function se(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ce="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,le=new WeakMap;function ue(e){return e}var de=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=ue);var n=[],a=!1;return{read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,a);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(a=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){a=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var r=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(r)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=ae({async:!0,ssr:!1},e),t}(),me=function(){},pe=r.forwardRef((function(e,t){var n=r.useRef(null),a=r.useState({onScrollCapture:me,onWheelCapture:me,onTouchMoveCapture:me}),o=a[0],i=a[1],s=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,m=e.shards,p=e.sideCar,h=e.noIsolation,f=e.inert,g=e.allowPinchZoom,y=e.as,w=void 0===y?"div":y,x=e.gapMode,v=oe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,b=function(e,t){var n,a,o,i=(n=t||null,a=function(t){return e.forEach((function(e){return se(e,t)}))},(o=(0,r.useState)((function(){return{value:n,callback:a,facade:{get current(){return o.value},set current(e){var t=o.value;t!==e&&(o.value=e,o.callback(e,t))}}}}))[0]).callback=a,o.facade);return ce((function(){var t=le.get(i);if(t){var n=new Set(t),a=new Set(e),o=i.current;n.forEach((function(e){a.has(e)||se(e,null)})),a.forEach((function(e){n.has(e)||se(e,o)}))}le.set(i,e)}),[e]),i}([n,t]),C=ae(ae({},v),o);return r.createElement(r.Fragment,null,d&&r.createElement(E,{sideCar:de,removeScrollBar:u,shards:m,noIsolation:h,inert:f,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:x}),s?r.cloneElement(r.Children.only(c),ae(ae({},C),{ref:b})):r.createElement(w,ae({},C,{className:l,ref:b}),c))}));pe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},pe.classNames={fullWidth:ie,zeroRight:re};var he=function(e){var t=e.sideCar,n=oe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return r.createElement(a,ae({},n))};he.isSideCarExport=!0;var fe=function(){var e=0,t=null;return{add:function(n){var a,r;0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=o.nc;return t&&e.setAttribute("nonce",t),e}())&&(r=n,(a=t).styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ge=function(){var e,t=(e=fe(),function(t,n){r.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])});return function(e){var n=e.styles,a=e.dynamic;return t(n,a),null}},ye={left:0,top:0,right:0,gap:0},we=function(e){return parseInt(e||"",10)||0},xe=ge(),ve="data-scroll-locked",Ee=function(e,t,n,a){var o=e.left,r=e.top,i=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(a,";\n   padding-right: ").concat(s,"px ").concat(a,";\n  }\n  body[").concat(ve,"] {\n    overflow: hidden ").concat(a,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(a,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(r,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(a,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(a,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(re," {\n    right: ").concat(s,"px ").concat(a,";\n  }\n  \n  .").concat(ie," {\n    margin-right: ").concat(s,"px ").concat(a,";\n  }\n  \n  .").concat(re," .").concat(re," {\n    right: 0 ").concat(a,";\n  }\n  \n  .").concat(ie," .").concat(ie," {\n    margin-right: 0 ").concat(a,";\n  }\n  \n  body[").concat(ve,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},be=function(){var e=parseInt(document.body.getAttribute(ve)||"0",10);return isFinite(e)?e:0},Ce=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,o=void 0===a?"margin":a;r.useEffect((function(){return document.body.setAttribute(ve,(be()+1).toString()),function(){var e=be()-1;e<=0?document.body.removeAttribute(ve):document.body.setAttribute(ve,e.toString())}}),[]);var i=r.useMemo((function(){return function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ye;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],a=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[we(n),we(a),we(o)]}(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}}(o)}),[o]);return r.createElement(xe,{styles:Ee(i,!t,o,n?"":"!important")})},_e=!1;if("undefined"!=typeof window)try{var ke=Object.defineProperty({},"passive",{get:function(){return _e=!0,!0}});window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch(e){_e=!1}var Se=!!_e&&{passive:!1},Ae=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Ne=function(e,t){var n=t.ownerDocument,a=t;do{if("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&(a=a.host),Me(e,a)){var o=De(e,a);if(o[1]>o[2])return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Me=function(e,t){return"v"===e?function(e){return Ae(e,"overflowY")}(t):function(e){return Ae(e,"overflowX")}(t)},De=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Ie=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Pe=function(e){return[e.deltaX,e.deltaY]},Le=function(e){return e&&"current"in e?e.current:e},Re=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Fe=0,Be=[];function Te(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Oe=($e=function(e){var t=r.useRef([]),n=r.useRef([0,0]),a=r.useRef(),o=r.useState(Fe++)[0],i=r.useState(ge)[0],s=r.useRef(e);r.useEffect((function(){s.current=e}),[e]),r.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=function(e,t,n){if(n||2===arguments.length)for(var a,o=0,r=t.length;o<r;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(Le),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(o))})),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(o))}))}}}),[e.inert,e.lockRef.current,e.shards]);var c=r.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var o,r=Ie(e),i=n.current,c="deltaX"in e?e.deltaX:i[0]-r[0],l="deltaY"in e?e.deltaY:i[1]-r[1],u=e.target,d=Math.abs(c)>Math.abs(l)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var m=Ne(d,u);if(!m)return!0;if(m?o=d:(o="v"===d?"h":"v",m=Ne(d,u)),!m)return!1;if(!a.current&&"changedTouches"in e&&(c||l)&&(a.current=o),!o)return!0;var p=a.current||o;return function(e,t,n,a){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),r=o*a,i=n.target,s=t.contains(i),c=!1,l=r>0,u=0,d=0;do{var m=De(e,i),p=m[0],h=m[1]-m[2]-o*p;(p||h)&&Me(e,i)&&(u+=h,d+=p),i=i instanceof ShadowRoot?i.host:i.parentNode}while(!s&&i!==document.body||s&&(t.contains(i)||t===i));return(l&&(Math.abs(u)<1||!1)||!l&&(Math.abs(d)<1||!1))&&(c=!0),c}(p,t,e,"h"===p?c:l)}),[]),l=r.useCallback((function(e){var n=e;if(Be.length&&Be[Be.length-1]===i){var a="deltaY"in n?Pe(n):Ie(n),o=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,o=a,t[0]===o[0]&&t[1]===o[1]);var t,o}))[0];if(o&&o.should)n.cancelable&&n.preventDefault();else if(!o){var r=(s.current.shards||[]).map(Le).filter(Boolean).filter((function(e){return e.contains(n.target)}));(r.length>0?c(n,r[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=r.useCallback((function(e,n,a,o){var r={name:e,delta:n,target:a,should:o,shadowParent:Te(a)};t.current.push(r),setTimeout((function(){t.current=t.current.filter((function(e){return e!==r}))}),1)}),[]),d=r.useCallback((function(e){n.current=Ie(e),a.current=void 0}),[]),m=r.useCallback((function(t){u(t.type,Pe(t),t.target,c(t,e.lockRef.current))}),[]),p=r.useCallback((function(t){u(t.type,Ie(t),t.target,c(t,e.lockRef.current))}),[]);r.useEffect((function(){return Be.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Se),document.addEventListener("touchmove",l,Se),document.addEventListener("touchstart",d,Se),function(){Be=Be.filter((function(e){return e!==i})),document.removeEventListener("wheel",l,Se),document.removeEventListener("touchmove",l,Se),document.removeEventListener("touchstart",d,Se)}}),[]);var h=e.removeScrollBar,f=e.inert;return r.createElement(r.Fragment,null,f?r.createElement(i,{styles:Re(o)}):null,h?r.createElement(Ce,{gapMode:e.gapMode}):null)},de.useMedium($e),he);var $e,je=r.forwardRef((function(e,t){return r.createElement(pe,ae({},e,{ref:t,sideCar:Oe}))}));je.classNames=pe.classNames;const Ue=je;var We=new WeakMap,ze=new WeakMap,Ke={},Ve=0,Ge=function(e){return e&&(e.host||Ge(e.parentNode))},He=function(e,t,n){void 0===n&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=t||function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live]"))),function(e,t,n,a){var o=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=Ge(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);Ke[n]||(Ke[n]=new WeakMap);var r=Ke[n],i=[],s=new Set,c=new Set(o),l=function(e){e&&!s.has(e)&&(s.add(e),l(e.parentNode))};o.forEach(l);var u=function(e){e&&!c.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(a),o=null!==t&&"false"!==t,c=(We.get(e)||0)+1,l=(r.get(e)||0)+1;We.set(e,c),r.set(e,l),i.push(e),1===c&&o&&ze.set(e,!0),1===l&&e.setAttribute(n,"true"),o||e.setAttribute(a,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}}))};return u(t),s.clear(),Ve++,function(){i.forEach((function(e){var t=We.get(e)-1,o=r.get(e)-1;We.set(e,t),r.set(e,o),t||(ze.has(e)||e.removeAttribute(a),ze.delete(e)),o||e.removeAttribute(n)})),--Ve||(We=new WeakMap,We=new WeakMap,ze=new WeakMap,Ke={})}}(a,o,n,"aria-hidden")):function(){return null}},qe="Dialog",[Ye,Je]=function(e,t=[]){let n=[];const a=()=>{const t=n.map((e=>r.createContext(e)));return function(n){const a=n?.[e]||t;return r.useMemo((()=>({[`__scope${e}`]:{...n,[e]:a}})),[n,a])}};return a.scopeName=e,[function(t,a){const o=r.createContext(a),i=n.length;n=[...n,a];const s=t=>{const{scope:n,children:a,...s}=t,c=n?.[e]?.[i]||o,l=r.useMemo((()=>s),Object.values(s));return(0,C.jsx)(c.Provider,{value:l,children:a})};return s.displayName=t+"Provider",[s,function(n,s){const c=s?.[e]?.[i]||o,l=r.useContext(c);if(l)return l;if(void 0!==a)return a;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},_(a,...t)]}(qe),[Xe,Ze]=Ye(qe),Qe=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,c=r.useRef(null),l=r.useRef(null),[u=!1,d]=function({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,o]=function({defaultProp:e,onChange:t}){const n=r.useState(e),[a]=n,o=r.useRef(a),i=M(t);return r.useEffect((()=>{o.current!==a&&(i(a),o.current=a)}),[a,o,i]),n}({defaultProp:t,onChange:n}),i=void 0!==e,s=i?e:a,c=M(n);return[s,r.useCallback((t=>{if(i){const n="function"==typeof t?t(e):t;n!==e&&c(n)}else o(t)}),[i,e,o,c])]}({prop:a,defaultProp:o,onChange:i});return(0,C.jsx)(Xe,{scope:t,triggerRef:c,contentRef:l,contentId:N(),titleId:N(),descriptionId:N(),open:u,onOpenChange:d,onOpenToggle:r.useCallback((()=>d((e=>!e))),[d]),modal:s,children:n})};Qe.displayName=qe;var et="DialogTrigger";r.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,o=Ze(et,n),r=b(t,o.triggerRef);return(0,C.jsx)(B.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":gt(o.open),...a,ref:r,onClick:x(e.onClick,o.onOpenToggle)})})).displayName=et;var tt="DialogPortal",[nt,at]=Ye(tt,{forceMount:void 0}),ot=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:o}=e,i=Ze(tt,t);return(0,C.jsx)(nt,{scope:t,forceMount:n,children:r.Children.map(a,(e=>(0,C.jsx)(Q,{present:n||i.open,children:(0,C.jsx)(Z,{asChild:!0,container:o,children:e})})))})};ot.displayName=tt;var rt="DialogOverlay",it=r.forwardRef(((e,t)=>{const n=at(rt,e.__scopeDialog),{forceMount:a=n.forceMount,...o}=e,r=Ze(rt,e.__scopeDialog);return r.modal?(0,C.jsx)(Q,{present:a||r.open,children:(0,C.jsx)(st,{...o,ref:t})}):null}));it.displayName=rt;var st=r.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,o=Ze(rt,n);return(0,C.jsx)(Ue,{as:I,allowPinchZoom:!0,shards:[o.contentRef],children:(0,C.jsx)(B.div,{"data-state":gt(o.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})})),ct="DialogContent",lt=r.forwardRef(((e,t)=>{const n=at(ct,e.__scopeDialog),{forceMount:a=n.forceMount,...o}=e,r=Ze(ct,e.__scopeDialog);return(0,C.jsx)(Q,{present:a||r.open,children:r.modal?(0,C.jsx)(ut,{...o,ref:t}):(0,C.jsx)(dt,{...o,ref:t})})}));lt.displayName=ct;var ut=r.forwardRef(((e,t)=>{const n=Ze(ct,e.__scopeDialog),a=r.useRef(null),o=b(t,n.contentRef,a);return r.useEffect((()=>{const e=a.current;if(e)return He(e)}),[]),(0,C.jsx)(mt,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:x(e.onCloseAutoFocus,(e=>{e.preventDefault(),n.triggerRef.current?.focus()})),onPointerDownOutside:x(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:x(e.onFocusOutside,(e=>e.preventDefault()))})})),dt=r.forwardRef(((e,t)=>{const n=Ze(ct,e.__scopeDialog),a=r.useRef(!1),o=r.useRef(!1);return(0,C.jsx)(mt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||n.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));const r=t.target,i=n.triggerRef.current?.contains(r);i&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})})),mt=r.forwardRef(((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,c=Ze(ct,n),l=r.useRef(null),u=b(t,l);return r.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ne()),document.body.insertAdjacentElement("beforeend",e[1]??ne()),te++,()=>{1===te&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),te--}}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(V,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,C.jsx)($,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":gt(c.open),...s,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(vt,{titleId:c.titleId}),(0,C.jsx)(Et,{contentRef:l,descriptionId:c.descriptionId})]})]})})),pt="DialogTitle";r.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,o=Ze(pt,n);return(0,C.jsx)(B.h2,{id:o.titleId,...a,ref:t})})).displayName=pt;var ht="DialogDescription";r.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,o=Ze(ht,n);return(0,C.jsx)(B.p,{id:o.descriptionId,...a,ref:t})})).displayName=ht;var ft="DialogClose";function gt(e){return e?"open":"closed"}r.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,o=Ze(ft,n);return(0,C.jsx)(B.button,{type:"button",...a,ref:t,onClick:x(e.onClick,(()=>o.onOpenChange(!1)))})})).displayName=ft;var yt="DialogTitleWarning",[wt,xt]=function(e,t){const n=r.createContext(t),a=e=>{const{children:t,...a}=e,o=r.useMemo((()=>a),Object.values(a));return(0,C.jsx)(n.Provider,{value:o,children:t})};return a.displayName=e+"Provider",[a,function(a){const o=r.useContext(n);if(o)return o;if(void 0!==t)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}]}(yt,{contentName:ct,titleName:pt,docsSlug:"dialog"}),vt=({titleId:e})=>{const t=xt(yt),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect((()=>{e&&(document.getElementById(e)||console.error(n))}),[n,e]),null},Et=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xt("DialogDescriptionWarning").contentName}}.`;return r.useEffect((()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))}),[n,e,t]),null},bt=Qe,Ct=ot,_t=it,kt=lt,St=o(888),At='[cmdk-group=""]',Nt='[cmdk-group-items=""]',Mt='[cmdk-item=""]',Dt=`${Mt}:not([aria-disabled="true"])`,It="cmdk-item-select",Pt="data-value",Lt=(e,t,n)=>w(e,t,n),Rt=r.createContext(void 0),Ft=()=>r.useContext(Rt),Bt=r.createContext(void 0),Tt=()=>r.useContext(Bt),Ot=r.createContext(void 0),$t=r.forwardRef(((e,t)=>{let n=Qt((()=>{var t,n;return{search:"",value:null!=(n=null!=(t=e.value)?t:e.defaultValue)?n:"",filtered:{count:0,items:new Map,groups:new Set}}})),a=Qt((()=>new Set)),o=Qt((()=>new Map)),i=Qt((()=>new Map)),s=Qt((()=>new Set)),c=Xt(e),{label:l,children:u,value:d,onValueChange:m,filter:p,shouldFilter:h,loop:f,disablePointerSelection:g=!1,vimBindings:y=!0,...w}=e,x=N(),v=N(),E=N(),b=r.useRef(null),C=an();Zt((()=>{if(void 0!==d){let e=d.trim();n.current.value=e,_.emit()}}),[d]),Zt((()=>{C(6,I)}),[]);let _=r.useMemo((()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,a)=>{var o,r,i;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)D(),A(),C(1,M);else if("value"===e&&(a||C(5,I),void 0!==(null==(o=c.current)?void 0:o.value))){let e=null!=t?t:"";return void(null==(i=(r=c.current).onValueChange)||i.call(r,e))}_.emit()}},emit:()=>{s.current.forEach((e=>e()))}})),[]),k=r.useMemo((()=>({value:(e,t,a)=>{var o;t!==(null==(o=i.current.get(e))?void 0:o.value)&&(i.current.set(e,{value:t,keywords:a}),n.current.filtered.items.set(e,S(t,a)),C(2,(()=>{A(),_.emit()})))},item:(e,t)=>(a.current.add(e),t&&(o.current.has(t)?o.current.get(t).add(e):o.current.set(t,new Set([e]))),C(3,(()=>{D(),A(),n.current.value||M(),_.emit()})),()=>{i.current.delete(e),a.current.delete(e),n.current.filtered.items.delete(e);let t=P();C(4,(()=>{D(),(null==t?void 0:t.getAttribute("id"))===e&&M(),_.emit()}))}),group:e=>(o.current.has(e)||o.current.set(e,new Set),()=>{i.current.delete(e),o.current.delete(e)}),filter:()=>c.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:x,inputId:E,labelId:v,listInnerRef:b})),[]);function S(e,t){var a,o;let r=null!=(o=null==(a=c.current)?void 0:a.filter)?o:Lt;return e?r(e,n.current.search,t):0}function A(){if(!n.current.search||!1===c.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach((n=>{let a=o.current.get(n),r=0;a.forEach((t=>{let n=e.get(t);r=Math.max(n,r)})),t.push([n,r])}));let a=b.current;L().sort(((t,n)=>{var a,o;let r=t.getAttribute("id"),i=n.getAttribute("id");return(null!=(a=e.get(i))?a:0)-(null!=(o=e.get(r))?o:0)})).forEach((e=>{let t=e.closest(Nt);t?t.appendChild(e.parentElement===t?e:e.closest(`${Nt} > *`)):a.appendChild(e.parentElement===a?e:e.closest(`${Nt} > *`))})),t.sort(((e,t)=>t[1]-e[1])).forEach((e=>{var t;let n=null==(t=b.current)?void 0:t.querySelector(`${At}[${Pt}="${encodeURIComponent(e[0])}"]`);null==n||n.parentElement.appendChild(n)}))}function M(){let e=L().find((e=>"true"!==e.getAttribute("aria-disabled"))),t=null==e?void 0:e.getAttribute(Pt);_.setState("value",t||void 0)}function D(){var e,t,r,s;if(!n.current.search||!1===c.current.shouldFilter)return void(n.current.filtered.count=a.current.size);n.current.filtered.groups=new Set;let l=0;for(let o of a.current){let a=S(null!=(t=null==(e=i.current.get(o))?void 0:e.value)?t:"",null!=(s=null==(r=i.current.get(o))?void 0:r.keywords)?s:[]);n.current.filtered.items.set(o,a),a>0&&l++}for(let[e,t]of o.current)for(let a of t)if(n.current.filtered.items.get(a)>0){n.current.filtered.groups.add(e);break}n.current.filtered.count=l}function I(){var e,t,n;let a=P();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(n=null==(t=a.closest(At))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function P(){var e;return null==(e=b.current)?void 0:e.querySelector(`${Mt}[aria-selected="true"]`)}function L(){var e;return Array.from((null==(e=b.current)?void 0:e.querySelectorAll(Dt))||[])}function R(e){let t=L()[e];t&&_.setState("value",t.getAttribute(Pt))}function F(e){var t;let n=P(),a=L(),o=a.findIndex((e=>e===n)),r=a[o+e];null!=(t=c.current)&&t.loop&&(r=o+e<0?a[a.length-1]:o+e===a.length?a[0]:a[o+e]),r&&_.setState("value",r.getAttribute(Pt))}function T(e){let t,n=P(),a=null==n?void 0:n.closest(At);for(;a&&!t;)a=e>0?Yt(a,At):Jt(a,At),t=null==a?void 0:a.querySelector(Dt);t?_.setState("value",t.getAttribute(Pt)):F(e)}let O=()=>R(L().length-1),$=e=>{e.preventDefault(),e.metaKey?O():e.altKey?T(1):F(1)},j=e=>{e.preventDefault(),e.metaKey?R(0):e.altKey?T(-1):F(-1)};return r.createElement(B.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=w.onKeyDown)||t.call(w,e),!e.defaultPrevented)switch(e.key){case"n":case"j":y&&e.ctrlKey&&$(e);break;case"ArrowDown":$(e);break;case"p":case"k":y&&e.ctrlKey&&j(e);break;case"ArrowUp":j(e);break;case"Home":e.preventDefault(),R(0);break;case"End":e.preventDefault(),O();break;case"Enter":if(!e.nativeEvent.isComposing&&229!==e.keyCode){e.preventDefault();let t=P();if(t){let e=new Event(It);t.dispatchEvent(e)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:rn},l),on(e,(e=>r.createElement(Bt.Provider,{value:_},r.createElement(Rt.Provider,{value:k},e)))))})),jt=r.forwardRef(((e,t)=>{var n,a;let o=N(),i=r.useRef(null),s=r.useContext(Ot),c=Ft(),l=Xt(e),u=null!=(a=null==(n=l.current)?void 0:n.forceMount)?a:null==s?void 0:s.forceMount;Zt((()=>{if(!u)return c.item(o,null==s?void 0:s.id)}),[u]);let d=nn(o,i,[e.value,e.children,i],e.keywords),m=Tt(),p=tn((e=>e.value&&e.value===d.current)),h=tn((e=>!(!u&&!1!==c.filter())||!e.search||e.filtered.items.get(o)>0));function f(){var e,t;g(),null==(t=(e=l.current).onSelect)||t.call(e,d.current)}function g(){m.setState("value",d.current,!0)}if(r.useEffect((()=>{let t=i.current;if(t&&!e.disabled)return t.addEventListener(It,f),()=>t.removeEventListener(It,f)}),[h,e.onSelect,e.disabled]),!h)return null;let{disabled:y,value:w,onSelect:x,forceMount:v,keywords:E,...b}=e;return r.createElement(B.div,{ref:en([i,t]),...b,id:o,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!p,"data-disabled":!!y,"data-selected":!!p,onPointerMove:y||c.getDisablePointerSelection()?void 0:g,onClick:y?void 0:f},e.children)})),Ut=r.forwardRef(((e,t)=>{let{heading:n,children:a,forceMount:o,...i}=e,s=N(),c=r.useRef(null),l=r.useRef(null),u=N(),d=Ft(),m=tn((e=>!(!o&&!1!==d.filter())||!e.search||e.filtered.groups.has(s)));Zt((()=>d.group(s)),[]),nn(s,c,[e.value,e.heading,l]);let p=r.useMemo((()=>({id:s,forceMount:o})),[o]);return r.createElement(B.div,{ref:en([c,t]),...i,"cmdk-group":"",role:"presentation",hidden:!m||void 0},n&&r.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),on(e,(e=>r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},r.createElement(Ot.Provider,{value:p},e)))))})),Wt=r.forwardRef(((e,t)=>{let{alwaysRender:n,...a}=e,o=r.useRef(null),i=tn((e=>!e.search));return n||i?r.createElement(B.div,{ref:en([o,t]),...a,"cmdk-separator":"",role:"separator"}):null})),zt=r.forwardRef(((e,t)=>{let{onValueChange:n,...a}=e,o=null!=e.value,i=Tt(),s=tn((e=>e.search)),c=tn((e=>e.value)),l=Ft(),u=r.useMemo((()=>{var e;let t=null==(e=l.listInnerRef.current)?void 0:e.querySelector(`${Mt}[${Pt}="${encodeURIComponent(c)}"]`);return null==t?void 0:t.getAttribute("id")}),[]);return r.useEffect((()=>{null!=e.value&&i.setState("search",e.value)}),[e.value]),r.createElement(B.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":u,id:l.inputId,type:"text",value:o?e.value:s,onChange:e=>{o||i.setState("search",e.target.value),null==n||n(e.target.value)}})})),Kt=r.forwardRef(((e,t)=>{let{children:n,label:a="Suggestions",...o}=e,i=r.useRef(null),s=r.useRef(null),c=Ft();return r.useEffect((()=>{if(s.current&&i.current){let e,t=s.current,n=i.current,a=new ResizeObserver((()=>{e=requestAnimationFrame((()=>{let e=t.offsetHeight;n.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")}))}));return a.observe(t),()=>{cancelAnimationFrame(e),a.unobserve(t)}}}),[]),r.createElement(B.div,{ref:en([i,t]),...o,"cmdk-list":"",role:"listbox","aria-label":a,id:c.listId},on(e,(e=>r.createElement("div",{ref:en([s,c.listInnerRef]),"cmdk-list-sizer":""},e))))})),Vt=r.forwardRef(((e,t)=>{let{open:n,onOpenChange:a,overlayClassName:o,contentClassName:i,container:s,...c}=e;return r.createElement(bt,{open:n,onOpenChange:a},r.createElement(Ct,{container:s},r.createElement(_t,{"cmdk-overlay":"",className:o}),r.createElement(kt,{"aria-label":e.label,"cmdk-dialog":"",className:i},r.createElement($t,{ref:t,...c}))))})),Gt=r.forwardRef(((e,t)=>tn((e=>0===e.filtered.count))?r.createElement(B.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null)),Ht=r.forwardRef(((e,t)=>{let{progress:n,children:a,label:o="Loading...",...i}=e;return r.createElement(B.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},on(e,(e=>r.createElement("div",{"aria-hidden":!0},e))))})),qt=Object.assign($t,{List:Kt,Item:jt,Input:zt,Group:Ut,Separator:Wt,Dialog:Vt,Empty:Gt,Loading:Ht});function Yt(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Jt(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Xt(e){let t=r.useRef(e);return Zt((()=>{t.current=e})),t}var Zt="undefined"==typeof window?r.useEffect:r.useLayoutEffect;function Qt(e){let t=r.useRef();return void 0===t.current&&(t.current=e()),t}function en(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}function tn(e){let t=Tt(),n=()=>e(t.snapshot());return(0,St.useSyncExternalStore)(t.subscribe,n,n)}function nn(e,t,n,a=[]){let o=r.useRef(),i=Ft();return Zt((()=>{var r;let s=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():o.current}})(),c=a.map((e=>e.trim()));i.value(e,s,c),null==(r=t.current)||r.setAttribute(Pt,s),o.current=s})),o}var an=()=>{let[e,t]=r.useState(),n=Qt((()=>new Map));return Zt((()=>{n.current.forEach((e=>e())),n.current=new Map}),[e]),(e,a)=>{n.current.set(e,a),t({})}};function on({asChild:e,children:t},n){return e&&r.isValidElement(t)?r.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},n(t.props.children)):n(t)}var rn={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const sn=()=>(/Mac|iPod|iPhone|iPad/.test(navigator.platform),{openCommand:{key:"k",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult1:{key:"1",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult2:{key:"2",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult3:{key:"3",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult4:{key:"4",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult5:{key:"5",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult6:{key:"6",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult7:{key:"7",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult8:{key:"8",meta:!0,ctrl:!0,alt:!1,shift:!1},selectResult9:{key:"9",meta:!0,ctrl:!0,alt:!1,shift:!1}}),cn=e=>{if(!e||"object"!=typeof e)return!1;const{key:t,meta:n,ctrl:a,alt:o,shift:r}=e;return!(!t||"string"!=typeof t)&&!!(n||a||o||r||["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Escape"].includes(t))},ln=()=>{try{const e=localStorage.getItem("lexia-command-shortcuts");return e?JSON.parse(e):{}}catch(e){return console.warn("Failed to load custom shortcuts:",e),{}}},un=e=>{try{localStorage.setItem("lexia-command-shortcuts",JSON.stringify(e))}catch(e){console.warn("Failed to save custom shortcuts:",e)}};function dn(e,t){const n="object"==typeof e&&t,a=n?t:e,o=n?e:null,[r,i]=(0,s.useState)((()=>{if(n)return null;const e=sn(),t=ln();console.log("🔑 useKeyboardShortcut: Loading shortcuts"),console.log("🔑 Default shortcuts:",e),console.log("🔑 Custom shortcuts from localStorage:",t);const a={...e};return Object.entries(t).forEach((([e,t])=>{cn(t)?(console.log(`🔑 Applying custom shortcut for ${e}:`,t),a[e]=t):console.warn(`🔑 Invalid custom shortcut for ${e}:`,t)})),console.log("🔑 Final merged shortcuts:",a),a})),c=(0,s.useRef)(a),l=/Mac|iPod|iPhone|iPad/.test(navigator.platform);(0,s.useEffect)((()=>{c.current=a}),[a]);const u=(0,s.useCallback)((e=>{if(!o)return;const t="ArrowUp"===o.key||"ArrowDown"===o.key,n=l?e.metaKey:e.ctrlKey,a=e.key.toLowerCase()===o.key.toLowerCase();if(console.log(`🔑 LEGACY: Key ${e.key} pressed, checking against ${o.key}`),t&&a)return console.log(`🔑 LEGACY: Arrow key match for ${o.key}`),void(c.current&&c.current(e));!t&&a&&(o.metaKey&&n||!o.metaKey)&&(console.log(`🔑 LEGACY: Key match for ${o.key}`),c.current&&c.current(e))}),[o,l]),d=(0,s.useCallback)((e=>{if(!r)return;const{key:t,metaKey:n,ctrlKey:a,altKey:o,shiftKey:i}=e;console.log(`🔑 Key pressed: ${t}, meta: ${n}, ctrl: ${a}, alt: ${o}, shift: ${i}`);for(const[s,l]of Object.entries(r)){const r=l.key.toLowerCase()===t.toLowerCase(),u=Boolean(l.meta)===n,d=Boolean(l.ctrl)===a,m=Boolean(l.alt)===o,p=Boolean(l.shift)===i;if(console.log(`🔑 Checking ${s}: key=${r}, meta=${u}, ctrl=${d}, alt=${m}, shift=${p}`),console.log(`🔑 Expected for ${s}:`,l),l.meta&&l.ctrl&&r&&m&&p&&(n||a))return console.log(`🔑 MATCH! Executing ${s} (meta/ctrl mode)`),void(c.current&&c.current(s,e));if(r&&u&&d&&m&&p)return console.log(`🔑 MATCH! Executing ${s} (exact mode)`),void(c.current&&c.current(s,e))}console.log("🔑 No matching shortcuts found")}),[r]);if((0,s.useEffect)((()=>{const e=n?u:d;return console.log(`🔑 Setting up event listener for ${n?"legacy":"new"} mode`),document.addEventListener("keydown",e),()=>{console.log(`🔑 Removing event listener for ${n?"legacy":"new"} mode`),document.removeEventListener("keydown",e)}}),[n,u,d]),n)return;const m=(0,s.useCallback)(((e,t)=>{if(!cn(t))return void console.warn("🔑 Invalid shortcut provided:",t);console.log(`🔑 Updating shortcut for ${e}:`,t);const n=ln();n[e]=t,un(n),console.log("🔑 Saved to localStorage:",n),i((n=>{const a={...n,[e]:t};return console.log("🔑 Updated shortcuts state:",a),a}))}),[]),p=(0,s.useCallback)((()=>{un({}),i(sn())}),[]),h=(0,s.useCallback)((e=>{const t=sn(),n=ln();n[e]&&(delete n[e],un(n)),t[e]&&i((n=>({...n,[e]:t[e]})))}),[]),f=(0,s.useCallback)((()=>ln()),[]),g=(0,s.useCallback)((e=>{if(!e||"object"!=typeof e)return void console.warn("Invalid shortcuts configuration");const t={};Object.entries(e).forEach((([e,n])=>{cn(n)&&(t[e]=n)})),un(t);const n=sn();i({...n,...t})}),[]),y=(0,s.useCallback)((()=>{const e=[],t=new Map;return Object.entries(r).forEach((([n,a])=>{const o=JSON.stringify({key:a.key,meta:Boolean(a.meta),ctrl:Boolean(a.ctrl),alt:Boolean(a.alt),shift:Boolean(a.shift)});if(t.has(o)){const r=t.get(o),i=e.find((e=>{return t=e.shortcut,n=a,!(!t||!n)&&t.key===n.key&&Boolean(t.meta)===Boolean(n.meta)&&Boolean(t.ctrl)===Boolean(n.ctrl)&&Boolean(t.alt)===Boolean(n.alt)&&Boolean(t.shift)===Boolean(n.shift);var t,n}));i?i.commands.push(n):e.push({shortcut:a,commands:[r.command,n]})}else t.set(o,{command:n,shortcut:a})})),e}),[r]);return{shortcuts:r,isMac:l,updateShortcut:m,resetShortcuts:p,resetShortcut:h,exportShortcuts:f,importShortcuts:g,detectConflicts:y,isValidShortcut:cn}}function mn(e){return Array.isArray?Array.isArray(e):"[object Array]"===wn(e)}function pn(e){return"string"==typeof e}function hn(e){return"number"==typeof e}function fn(e){return"object"==typeof e}function gn(e){return null!=e}function yn(e){return!e.trim().length}function wn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const xn=Object.prototype.hasOwnProperty;class vn{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=En(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function En(e){let t=null,n=null,a=null,o=1,r=null;if(pn(e)||mn(e))a=e,t=bn(e),n=Cn(e);else{if(!xn.call(e,"name"))throw new Error("Missing name property in key");const i=e.name;if(a=i,xn.call(e,"weight")&&(o=e.weight,o<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(i));t=bn(i),n=Cn(i),r=e.getFn}return{path:t,id:n,weight:o,src:a,getFn:r}}function bn(e){return mn(e)?e:e.split(".")}function Cn(e){return mn(e)?e.join("."):e}var kn={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],a=!1;const o=(e,t,r)=>{if(gn(e))if(t[r]){const i=e[t[r]];if(!gn(i))return;if(r===t.length-1&&(pn(i)||hn(i)||function(e){return!0===e||!1===e||function(e){return fn(e)&&null!==e}(e)&&"[object Boolean]"==wn(e)}(i)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(i));else if(mn(i)){a=!0;for(let e=0,n=i.length;e<n;e+=1)o(i[e],t,r+1)}else t.length&&o(i,t,r+1)}else n.push(e)};return o(e,pn(t)?t.split("."):t,0),a?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const Sn=/[^ ]+/g;class An{constructor({getFn:e=kn.getFn,fieldNormWeight:t=kn.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,a=Math.pow(10,t);return{get(t){const o=t.match(Sn).length;if(n.has(o))return n.get(o);const r=1/Math.pow(o,.5*e),i=parseFloat(Math.round(r*a)/a);return n.set(o,i),i},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,pn(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();pn(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!gn(e)||yn(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,a)=>{let o=t.getFn?t.getFn(e):this.getFn(e,t.path);if(gn(o))if(mn(o)){let e=[];const t=[{nestedArrIndex:-1,value:o}];for(;t.length;){const{nestedArrIndex:n,value:a}=t.pop();if(gn(a))if(pn(a)&&!yn(a)){let t={v:a,i:n,n:this.norm.get(a)};e.push(t)}else mn(a)&&a.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[a]=e}else if(pn(o)&&!yn(o)){let e={v:o,n:this.norm.get(o)};n.$[a]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Nn(e,t,{getFn:n=kn.getFn,fieldNormWeight:a=kn.fieldNormWeight}={}){const o=new An({getFn:n,fieldNormWeight:a});return o.setKeys(e.map(En)),o.setSources(t),o.create(),o}function Mn(e,{errors:t=0,currentLocation:n=0,expectedLocation:a=0,distance:o=kn.distance,ignoreLocation:r=kn.ignoreLocation}={}){const i=t/e.length;if(r)return i;const s=Math.abs(a-n);return o?i+s/o:s?1:i}const Dn=32;function In(e){let t={};for(let n=0,a=e.length;n<a;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<a-n-1}return t}const Pn=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Ln{constructor(e,{location:t=kn.location,threshold:n=kn.threshold,distance:a=kn.distance,includeMatches:o=kn.includeMatches,findAllMatches:r=kn.findAllMatches,minMatchCharLength:i=kn.minMatchCharLength,isCaseSensitive:s=kn.isCaseSensitive,ignoreDiacritics:c=kn.ignoreDiacritics,ignoreLocation:l=kn.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:a,includeMatches:o,findAllMatches:r,minMatchCharLength:i,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l},e=s?e:e.toLowerCase(),e=c?Pn(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:In(e),startIndex:t})},d=this.pattern.length;if(d>Dn){let e=0;const t=d%Dn,n=d-t;for(;e<n;)u(this.pattern.substr(e,Dn),e),e+=Dn;if(t){const e=d-Dn;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=n?Pn(e):e,this.pattern===e){let t={isMatch:!0,score:0};return a&&(t.indices=[[0,e.length-1]]),t}const{location:o,distance:r,threshold:i,findAllMatches:s,minMatchCharLength:c,ignoreLocation:l}=this.options;let u=[],d=0,m=!1;this.chunks.forEach((({pattern:t,alphabet:n,startIndex:p})=>{const{isMatch:h,score:f,indices:g}=function(e,t,n,{location:a=kn.location,distance:o=kn.distance,threshold:r=kn.threshold,findAllMatches:i=kn.findAllMatches,minMatchCharLength:s=kn.minMatchCharLength,includeMatches:c=kn.includeMatches,ignoreLocation:l=kn.ignoreLocation}={}){if(t.length>Dn)throw new Error("Pattern length exceeds max of 32.");const u=t.length,d=e.length,m=Math.max(0,Math.min(a,d));let p=r,h=m;const f=s>1||c,g=f?Array(d):[];let y;for(;(y=e.indexOf(t,h))>-1;){let e=Mn(t,{currentLocation:y,expectedLocation:m,distance:o,ignoreLocation:l});if(p=Math.min(e,p),h=y+u,f){let e=0;for(;e<u;)g[y+e]=1,e+=1}}h=-1;let w=[],x=1,v=u+d;const E=1<<u-1;for(let a=0;a<u;a+=1){let r=0,s=v;for(;r<s;)Mn(t,{errors:a,currentLocation:m+s,expectedLocation:m,distance:o,ignoreLocation:l})<=p?r=s:v=s,s=Math.floor((v-r)/2+r);v=s;let c=Math.max(1,m-s+1),y=i?d:Math.min(m+s,d)+u,b=Array(y+2);b[y+1]=(1<<a)-1;for(let r=y;r>=c;r-=1){let i=r-1,s=n[e.charAt(i)];if(f&&(g[i]=+!!s),b[r]=(b[r+1]<<1|1)&s,a&&(b[r]|=(w[r+1]|w[r])<<1|1|w[r+1]),b[r]&E&&(x=Mn(t,{errors:a,currentLocation:i,expectedLocation:m,distance:o,ignoreLocation:l}),x<=p)){if(p=x,h=i,h<=m)break;c=Math.max(1,2*m-h)}}if(Mn(t,{errors:a+1,currentLocation:m,expectedLocation:m,distance:o,ignoreLocation:l})>p)break;w=b}const b={isMatch:h>=0,score:Math.max(.001,x)};if(f){const e=function(e=[],t=kn.minMatchCharLength){let n=[],a=-1,o=-1,r=0;for(let i=e.length;r<i;r+=1){let i=e[r];i&&-1===a?a=r:i||-1===a||(o=r-1,o-a+1>=t&&n.push([a,o]),a=-1)}return e[r-1]&&r-a>=t&&n.push([a,r-1]),n}(g,s);e.length?c&&(b.indices=e):b.isMatch=!1}return b}(e,t,n,{location:o+p,distance:r,threshold:i,findAllMatches:s,minMatchCharLength:c,includeMatches:a,ignoreLocation:l});h&&(m=!0),d+=f,h&&g&&(u=[...u,...g])}));let p={isMatch:m,score:m?d/this.chunks.length:1};return m&&a&&(p.indices=u),p}}class Rn{constructor(e){this.pattern=e}static isMultiMatch(e){return Fn(e,this.multiRegex)}static isSingleMatch(e){return Fn(e,this.singleRegex)}search(){}}function Fn(e,t){const n=e.match(t);return n?n[1]:null}class Bn extends Rn{constructor(e,{location:t=kn.location,threshold:n=kn.threshold,distance:a=kn.distance,includeMatches:o=kn.includeMatches,findAllMatches:r=kn.findAllMatches,minMatchCharLength:i=kn.minMatchCharLength,isCaseSensitive:s=kn.isCaseSensitive,ignoreDiacritics:c=kn.ignoreDiacritics,ignoreLocation:l=kn.ignoreLocation}={}){super(e),this._bitapSearch=new Ln(e,{location:t,threshold:n,distance:a,includeMatches:o,findAllMatches:r,minMatchCharLength:i,isCaseSensitive:s,ignoreDiacritics:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Tn extends Rn{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const a=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,a.push([t,n-1]);const r=!!a.length;return{isMatch:r,score:r?0:1,indices:a}}}const On=[class extends Rn{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Tn,class extends Rn{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Rn{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Rn{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Rn{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Rn{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Bn],$n=On.length,jn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Un=new Set([Bn.type,Tn.type]);const Wn=[];function zn(e,t){for(let n=0,a=Wn.length;n<a;n+=1){let a=Wn[n];if(a.condition(e,t))return new a(e,t)}return new Ln(e,t)}const Kn="$and",Vn="$path",Gn=e=>!(!e[Kn]&&!e.$or),Hn=e=>({[Kn]:Object.keys(e).map((t=>({[t]:e[t]})))});function qn(e,t,{auto:n=!0}={}){const a=e=>{let o=Object.keys(e);const r=(e=>!!e[Vn])(e);if(!r&&o.length>1&&!Gn(e))return a(Hn(e));if((e=>!mn(e)&&fn(e)&&!Gn(e))(e)){const a=r?e[Vn]:o[0],i=r?e.$val:e[a];if(!pn(i))throw new Error((e=>`Invalid value for key ${e}`)(a));const s={keyId:Cn(a),pattern:i};return n&&(s.searcher=zn(i,t)),s}let i={children:[],operator:o[0]};return o.forEach((t=>{const n=e[t];mn(n)&&n.forEach((e=>{i.children.push(a(e))}))})),i};return Gn(e)||(e=Hn(e)),a(e)}function Yn(e,t){const n=e.matches;t.matches=[],gn(n)&&n.forEach((e=>{if(!gn(e.indices)||!e.indices.length)return;const{indices:n,value:a}=e;let o={indices:n,value:a};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function Jn(e,t){t.score=e.score}class Xn{constructor(e,t={},n){this.options={...kn,...t},this.options.useExtendedSearch,this._keyStore=new vn(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof An))throw new Error("Incorrect 'index' type");this._myIndex=t||Nn(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){gn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,a=this._docs.length;n<a;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,a-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:o,sortFn:r,ignoreFieldNorm:i}=this.options;let s=pn(e)?pn(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=kn.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:a,score:o})=>{const r=e?e.weight:null;n*=Math.pow(0===o&&r?Number.EPSILON:o,(r||1)*(t?1:a))})),e.score=n}))}(s,{ignoreFieldNorm:i}),o&&s.sort(r),hn(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=kn.includeMatches,includeScore:a=kn.includeScore}={}){const o=[];return n&&o.push(Yn),a&&o.push(Jn),e.map((e=>{const{idx:n}=e,a={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,a)})),a}))}(s,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const t=zn(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach((({v:e,i:n,n:o})=>{if(!gn(e))return;const{isMatch:r,score:i,indices:s}=t.searchIn(e);r&&a.push({item:e,idx:n,matches:[{score:i,value:e,norm:o,indices:s}]})})),a}_searchLogical(e){const t=qn(e,this.options),n=(e,t,a)=>{if(!e.children){const{keyId:n,searcher:o}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return r&&r.length?[{idx:a,item:t,matches:r}]:[]}const o=[];for(let r=0,i=e.children.length;r<i;r+=1){const i=e.children[r],s=n(i,t,a);if(s.length)o.push(...s);else if(e.operator===Kn)return[]}return o},a=this._myIndex.records,o={},r=[];return a.forEach((({$:e,i:a})=>{if(gn(e)){let i=n(t,e,a);i.length&&(o[a]||(o[a]={idx:a,item:e,matches:[]},r.push(o[a])),i.forEach((({matches:e})=>{o[a].matches.push(...e)})))}})),r}_searchObjectList(e){const t=zn(e,this.options),{keys:n,records:a}=this._myIndex,o=[];return a.forEach((({$:e,i:a})=>{if(!gn(e))return;let r=[];n.forEach(((n,a)=>{r.push(...this._findMatches({key:n,value:e[a],searcher:t}))})),r.length&&o.push({idx:a,item:e,matches:r})})),o}_findMatches({key:e,value:t,searcher:n}){if(!gn(t))return[];let a=[];if(mn(t))t.forEach((({v:t,i:o,n:r})=>{if(!gn(t))return;const{isMatch:i,score:s,indices:c}=n.searchIn(t);i&&a.push({score:s,key:e,value:t,idx:o,norm:r,indices:c})}));else{const{v:o,n:r}=t,{isMatch:i,score:s,indices:c}=n.searchIn(o);i&&a.push({score:s,key:e,value:o,norm:r,indices:c})}return a}}Xn.version="7.1.0",Xn.createIndex=Nn,Xn.parseIndex=function(e,{getFn:t=kn.getFn,fieldNormWeight:n=kn.fieldNormWeight}={}){const{keys:a,records:o}=e,r=new An({getFn:t,fieldNormWeight:n});return r.setKeys(a),r.setIndexRecords(o),r},Xn.config=kn,Xn.parseQuery=qn,function(...e){Wn.push(...e)}(class{constructor(e,{isCaseSensitive:t=kn.isCaseSensitive,ignoreDiacritics:n=kn.ignoreDiacritics,includeMatches:a=kn.includeMatches,minMatchCharLength:o=kn.minMatchCharLength,ignoreLocation:r=kn.ignoreLocation,findAllMatches:i=kn.findAllMatches,location:s=kn.location,threshold:c=kn.threshold,distance:l=kn.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:o,findAllMatches:i,ignoreLocation:r,location:s,threshold:c,distance:l},e=t?e:e.toLowerCase(),e=n?Pn(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(jn).filter((e=>e&&!!e.trim())),a=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let r=!1,i=-1;for(;!r&&++i<$n;){const e=On[i];let n=e.isMultiMatch(o);n&&(a.push(new e(n,t)),r=!0)}if(!r)for(i=-1;++i<$n;){const e=On[i];let n=e.isSingleMatch(o);if(n){a.push(new e(n,t));break}}}return a}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:o}=this.options;e=a?e:e.toLowerCase(),e=o?Pn(e):e;let r=0,i=[],s=0;for(let a=0,o=t.length;a<o;a+=1){const o=t[a];i.length=0,r=0;for(let t=0,a=o.length;t<a;t+=1){const a=o[t],{isMatch:c,indices:l,score:u}=a.search(e);if(!c){s=0,r=0,i.length=0;break}if(r+=1,s+=u,n){const e=a.constructor.type;Un.has(e)?i=[...i,...l]:i.push(l)}}if(r){let e={isMatch:!0,score:s/r};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}});const Zn={threshold:.4,location:0,distance:100,minMatchCharLength:2,includeMatches:!0,includeScore:!0,useExtendedSearch:!1,findAllMatches:!1,keys:[{name:"title",weight:.7},{name:"keywords",weight:.5},{name:"description",weight:.3},{name:"category",weight:.2}]},Qn={commands:{...Zn,threshold:.5,keys:[{name:"title",weight:.8},{name:"keywords",weight:.6},{name:"description",weight:.3},{name:"category",weight:.2}]},posts:{...Zn,threshold:.4,keys:[{name:"title",weight:.7},{name:"excerpt",weight:.4},{name:"content",weight:.3},{name:"author",weight:.2}]},pages:{...Zn,threshold:.4,keys:[{name:"title",weight:.8},{name:"excerpt",weight:.4},{name:"content",weight:.3}]},plugins:{...Zn,threshold:.5,keys:[{name:"name",weight:.8},{name:"description",weight:.5},{name:"author",weight:.2},{name:"tags",weight:.3}]},users:{...Zn,threshold:.3,keys:[{name:"display_name",weight:.8},{name:"user_login",weight:.7},{name:"user_email",weight:.5},{name:"first_name",weight:.4},{name:"last_name",weight:.4}]}},ea=new Map;function ta(e,t,n="commands",a={}){if(!t||0===t.trim().length)return e.map(((e,t)=>({item:e,refIndex:t,score:0})));const{maxResults:o=50,customFuseOptions:r={},scoreThreshold:i=null,...s}=a,c=function(e,t="commands",n={}){const a=`${t}-${e.length}-${JSON.stringify(n)}`;if(ea.has(a)){const t=ea.get(a);return t.setCollection(e),t}const o={...Qn[t]||Zn,...n},r=new Xn(e,o);if(ea.size>10){const e=ea.keys().next().value;ea.delete(e)}return ea.set(a,r),r}(e,n,r).search(t,{limit:o,...s});return i?c.filter((e=>e.score<=i)):c}const na={CREATE:"create",EDIT:"edit",DELETE:"delete",MANAGE:"manage",SEARCH:"search",ACTION:"action"},aa="content",oa="plugins",ra="settings",ia="users",sa=[{id:"create-page",type:na.CREATE,category:aa,title:(0,c.__)("Create a new page","lexia-command"),description:(0,c.__)("Create a new static page for your website","lexia-command"),keywords:["new page","add page","create page","static page"],icon:"📄",action:()=>{window.location.href=`${window.lexiaCommandData.adminUrl}post-new.php?post_type=page`}},{id:"create-post",type:na.CREATE,category:aa,title:(0,c.__)("Create a new post","lexia-command"),description:(0,c.__)("Create a new blog post or article","lexia-command"),keywords:["new post","add post","create post","write","blog","article"],icon:"✏️",action:()=>{window.location.href=`${window.lexiaCommandData.adminUrl}post-new.php`}},{id:"media-library",type:na.MANAGE,category:aa,title:(0,c.__)("Open Media Library","lexia-command"),description:(0,c.__)("Manage uploads, images, videos and other media files","lexia-command"),keywords:["media","images","library","files","uploads","videos","photos"],icon:"🖼️",action:()=>{window.location.href=`${window.lexiaCommandData.adminUrl}upload.php`}},{id:"settings",type:na.MANAGE,category:ra,title:(0,c.__)("Site Settings","lexia-command"),description:(0,c.__)("Configure general site settings and options","lexia-command"),keywords:["settings","options","configure","general","site config"],icon:"⚙️",action:()=>{window.location.href=`${window.lexiaCommandData.adminUrl}options-general.php`}},{id:"customize",type:na.MANAGE,category:ra,title:(0,c.__)("Customize Theme","lexia-command"),description:(0,c.__)("Customize your theme appearance, colors, and layout","lexia-command"),keywords:["customize","theme","appearance","customizer","design","style","themes","colors"],icon:"🎨",action:()=>{window.location.href=`${window.lexiaCommandData.adminUrl}customize.php`}},{id:"menus",type:na.MANAGE,category:aa,title:(0,c.__)("Manage Menus","lexia-command"),description:(0,c.__)("Create and manage navigation menus for your site","lexia-command"),keywords:["menus","navigation","nav","menu","navbar","links"],icon:"📋",action:()=>{window.location.href=`${window.lexiaCommandData.adminUrl}nav-menus.php`}},{id:"keyboard-shortcuts",type:na.MANAGE,category:ra,title:(0,c.__)("Keyboard Shortcuts Settings","lexia-command"),description:(0,c.__)("Customize keyboard shortcuts for Lexia Command","lexia-command"),keywords:["keyboard","shortcuts","hotkeys","settings","customize","keys","bindings"],icon:"⌨️",action:()=>(window.dispatchEvent(new CustomEvent("lexiaCommand:openShortcutSettings")),!1)}],ca=[{id:"plugins",type:na.MANAGE,category:oa,title:(0,c.__)("Manage Plugins","lexia-command"),keywords:["plugins","add plugin","install plugin","manage","manage plugins"],icon:"🔌",action:e=>{const t=new CustomEvent("lexiaCommand:showInstalledPlugins");return window.dispatchEvent(t),!1}},{id:"install-plugins",type:na.ACTION,category:oa,title:(0,c.__)("Install Plugin","lexia-command"),keywords:["install","plugin"],icon:"🔌",action:e=>{const t=new CustomEvent("lexiaCommand:showPluginSearch");return window.dispatchEvent(t),!1}}],la=[{id:"search-pages",type:na.SEARCH,category:aa,title:(0,c.__)("Search Pages","lexia-command"),keywords:["find pages","search pages","pages","find page"],icon:"📄",action:e=>{const t=new CustomEvent("lexiaCommand:showPageSearch");return window.dispatchEvent(t),!1}}],ua=[{id:"search-posts",type:na.SEARCH,category:aa,title:(0,c.__)("Search Posts","lexia-command"),keywords:["find posts","search posts","posts","find post","blog"],icon:"📝",action:e=>{const t=new CustomEvent("lexiaCommand:showPostSearch");return window.dispatchEvent(t),!1}}],da=[{id:"open-media-library",title:(0,c.__)("Open Media Library","lexia-command"),keywords:["media","library","images","files","uploads"],description:(0,c.__)("Browse and manage media files","lexia-command"),category:aa,type:na.NAVIGATE,icon:"🖼️",priority:8,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"upload.php"}},{id:"manage-comments",title:(0,c.__)("Manage Comments","lexia-command"),keywords:["comments","moderation","approve","spam"],description:(0,c.__)("View and moderate comments","lexia-command"),category:aa,type:na.NAVIGATE,icon:"💬",priority:7,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"edit-comments.php"}},{id:"edit-menus",title:(0,c.__)("Edit Menus","lexia-command"),keywords:["menu","navigation","nav","header","footer"],description:(0,c.__)("Customize site navigation menus","lexia-command"),category:ra,type:na.NAVIGATE,icon:"📋",priority:8,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"nav-menus.php"}},{id:"edit-widgets",title:(0,c.__)("Edit Widgets","lexia-command"),keywords:["widgets","sidebar","blocks","customizer"],description:(0,c.__)("Manage sidebar widgets and blocks","lexia-command"),category:ra,type:na.NAVIGATE,icon:"🧩",priority:7,action:()=>{window.lexiaCommandData,window.location.href=window.lexiaCommandData.adminUrl+"widgets.php"}},{id:"manage-users",title:(0,c.__)("Manage Users","lexia-command"),keywords:["users","members","accounts","roles"],description:(0,c.__)("View and edit user accounts","lexia-command"),category:ia,type:na.NAVIGATE,icon:"👥",priority:6,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"users.php"}},{id:"site-health",title:(0,c.__)("Site Health","lexia-command"),keywords:["health","status","debug","info"],description:(0,c.__)("Check site health and debug info","lexia-command"),category:ra,type:na.NAVIGATE,icon:"🏥",priority:6,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"site-health.php"}},{id:"export-content",title:(0,c.__)("Export Content","lexia-command"),keywords:["export","backup","download","xml"],description:(0,c.__)("Export posts, pages, and other content","lexia-command"),category:ra,type:na.NAVIGATE,icon:"📤",priority:5,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"export.php"}},{id:"import-content",title:(0,c.__)("Import Content","lexia-command"),keywords:["import","upload","migrate","xml"],description:(0,c.__)("Import content from other sites","lexia-command"),category:ra,type:na.NAVIGATE,icon:"📥",priority:5,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"import.php"}}],ma=[{id:"yoast-seo-dashboard",title:(0,c.__)("Yoast SEO Dashboard","lexia-command"),keywords:["yoast","seo","optimization","search"],description:(0,c.__)("Manage SEO settings and analysis","lexia-command"),category:ra,type:na.NAVIGATE,icon:"🎯",priority:8,condition:()=>window.lexiaCommandData?.plugins?.yoast_seo,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=wpseo_dashboard"}},{id:"woocommerce-orders",title:(0,c.__)("WooCommerce Orders","lexia-command"),keywords:["woocommerce","orders","sales","ecommerce"],description:(0,c.__)("View and manage orders","lexia-command"),category:aa,type:na.NAVIGATE,icon:"🛒",priority:9,condition:()=>window.lexiaCommandData?.plugins?.woocommerce,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"edit.php?post_type=shop_order"}},{id:"woocommerce-products",title:(0,c.__)("WooCommerce Products","lexia-command"),keywords:["woocommerce","products","catalog","inventory"],description:(0,c.__)("Manage product catalog","lexia-command"),category:aa,type:na.NAVIGATE,icon:"📦",priority:9,condition:()=>window.lexiaCommandData?.plugins?.woocommerce,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"edit.php?post_type=product"}},{id:"woocommerce-analytics",title:(0,c.__)("WooCommerce Analytics","lexia-command"),keywords:["woocommerce","analytics","reports","revenue"],description:(0,c.__)("View sales reports and analytics","lexia-command"),category:aa,type:na.NAVIGATE,icon:"📊",priority:8,condition:()=>window.lexiaCommandData?.plugins?.woocommerce,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=wc-admin&path=%2Fanalytics%2Foverview"}},{id:"contact-form-7",title:(0,c.__)("Contact Forms","lexia-command"),keywords:["contact","form","cf7","contact form 7"],description:(0,c.__)("Manage contact forms","lexia-command"),category:aa,type:na.NAVIGATE,icon:"📝",priority:7,condition:()=>window.lexiaCommandData?.plugins?.contact_form_7,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=wpcf7"}},{id:"elementor-library",title:(0,c.__)("Elementor Template Library","lexia-command"),keywords:["elementor","templates","library","blocks"],description:(0,c.__)("Browse Elementor templates","lexia-command"),category:aa,type:na.NAVIGATE,icon:"🎨",priority:8,condition:()=>window.lexiaCommandData?.plugins?.elementor,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"edit.php?post_type=elementor_library"}},{id:"wordfence-scan",title:(0,c.__)("Wordfence Security Scan","lexia-command"),keywords:["wordfence","security","scan","malware"],description:(0,c.__)("Run security scan","lexia-command"),category:ra,type:na.NAVIGATE,icon:"🛡️",priority:7,condition:()=>window.lexiaCommandData?.plugins?.wordfence,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=WordfenceScan"}},{id:"updraftplus-backup",title:(0,c.__)("Create Backup (UpdraftPlus)","lexia-command"),keywords:["updraftplus","backup","restore","migration"],description:(0,c.__)("Create site backup","lexia-command"),category:ra,type:na.NAVIGATE,icon:"💾",priority:7,condition:()=>window.lexiaCommandData?.plugins?.updraftplus,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=updraftplus"}},{id:"wp-rocket-settings",title:(0,c.__)("WP Rocket Settings","lexia-command"),keywords:["wp rocket","cache","performance","speed"],description:(0,c.__)("Configure caching settings","lexia-command"),category:ra,type:na.NAVIGATE,icon:"🚀",priority:6,condition:()=>window.lexiaCommandData?.plugins?.wp_rocket,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=wprocket"}},{id:"acf-field-groups",title:(0,c.__)("Custom Fields (ACF)","lexia-command"),keywords:["acf","custom fields","advanced","fields"],description:(0,c.__)("Manage custom field groups","lexia-command"),category:aa,type:na.NAVIGATE,icon:"🔧",priority:7,condition:()=>window.lexiaCommandData?.plugins?.advanced_custom_fields,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"edit.php?post_type=acf-field-group"}},{id:"aioseo-dashboard",title:(0,c.__)("All in One SEO Dashboard","lexia-command"),keywords:["aioseo","seo","all in one","optimization"],description:(0,c.__)("Manage SEO settings","lexia-command"),category:ra,type:na.NAVIGATE,icon:"📈",priority:8,condition:()=>window.lexiaCommandData?.plugins?.all_in_one_seo,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=aioseo"}},{id:"monsterinsights-reports",title:(0,c.__)("Analytics Reports (MonsterInsights)","lexia-command"),keywords:["monsterinsights","analytics","google","reports"],description:(0,c.__)("View Google Analytics reports","lexia-command"),category:aa,type:na.NAVIGATE,icon:"📊",priority:7,condition:()=>window.lexiaCommandData?.plugins?.google_analytics_for_wordpress,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=monsterinsights_reports"}},{id:"wpforms-entries",title:(0,c.__)("Form Entries (WPForms)","lexia-command"),keywords:["wpforms","forms","entries","submissions"],description:(0,c.__)("View form submissions","lexia-command"),category:aa,type:na.NAVIGATE,icon:"📋",priority:7,condition:()=>window.lexiaCommandData?.plugins?.wpforms_lite||window.lexiaCommandData?.plugins?.wpforms,action:()=>{window.location.href=window.lexiaCommandData.adminUrl+"admin.php?page=wpforms-entries"}}],pa=[{id:"clear-cache-quick",title:(0,c.__)("Clear All Cache","lexia-command"),keywords:["cache","clear","purge","refresh"],description:(0,c.__)("Clear all caching plugins cache","lexia-command"),category:ra,type:na.ACTION,icon:"🔄",priority:8,action:async()=>{const e=[];window.lexiaCommandData?.plugins?.wp_rocket&&e.push(fetch(window.lexiaCommandData.adminUrl+"admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action=rocket_purge_cache&_ajax_nonce="+window.lexiaCommandData.nonce})),window.lexiaCommandData?.plugins?.w3_total_cache&&e.push(fetch(window.lexiaCommandData.adminUrl+"admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action=w3tc_purge_all&_ajax_nonce="+window.lexiaCommandData.nonce}));try{await Promise.all(e),window.dispatchEvent(new CustomEvent("lexiaCommand:showNotification",{detail:{message:(0,c.__)("Cache cleared successfully!","lexia-command"),type:"success"}}))}catch(e){window.dispatchEvent(new CustomEvent("lexiaCommand:showNotification",{detail:{message:(0,c.__)("Failed to clear cache","lexia-command"),type:"error"}}))}}},{id:"maintenance-mode",title:(0,c.__)("Toggle Maintenance Mode","lexia-command"),keywords:["maintenance","mode","coming soon","offline"],description:(0,c.__)("Enable/disable maintenance mode","lexia-command"),category:ra,type:na.ACTION,icon:"🚧",priority:6,condition:()=>window.lexiaCommandData?.plugins?.maintenance_mode||window.lexiaCommandData?.plugins?.coming_soon,action:async()=>{try{const e=await fetch(window.lexiaCommandData.adminUrl+"admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action=lexia_toggle_maintenance&_ajax_nonce="+window.lexiaCommandData.nonce}),t=await e.json();window.dispatchEvent(new CustomEvent("lexiaCommand:showNotification",{detail:{message:t.success?(0,c.__)("Maintenance mode toggled!","lexia-command"):(0,c.__)("Failed to toggle maintenance mode","lexia-command"),type:t.success?"success":"error"}}))}catch(e){console.error("Maintenance mode toggle failed:",e)}}}],ha=[...sa,...ca,...la,...ua,...(()=>{const e=ma.filter((e=>!e.condition||!!e.condition())),t=pa.filter((e=>!e.condition||!!e.condition()));return[...da,...e,...t].sort(((e,t)=>(t.priority||0)-(e.priority||0)))})()];function fa(e){const t=e?e.toLowerCase():"";console.log("🔍 Search query:",e,"-> normalized:",t);const n=window?.lexiaCommandData?.userCaps||{};console.log("👤 User capabilities:",n);const a=ha.filter((e=>{if(console.log(`\n📋 Checking command: ${e.id} (${e.title})`),console.log(`   Category: ${e.category}`),console.log(`   Keywords: [${e.keywords.join(", ")}]`),e.category===oa&&!n.manage_options)return console.log("   ❌ Rejected: Plugin command without manage_options"),!1;if(e.category===ra)if(console.log("   ⚙️ Settings command detected"),"customize"===e.id&&(n.customize||n.edit_theme_options))console.log(`   ✅ Customize command allowed: customize=${n.customize}, edit_theme_options=${n.edit_theme_options}`);else{if(!n.manage_options)return console.log("   ❌ Rejected: Settings command without manage_options or theme capabilities"),!1;console.log("   ✅ Settings command allowed with manage_options")}if(e.category===ia&&!n.manage_options)return console.log("   ❌ Rejected: User command without manage_options"),!1;if(!t)return console.log("   ✅ Included: No query filter"),!0;const a=e.title.toLowerCase().includes(t),o=e.keywords.some((e=>e.toLowerCase().includes(t)));console.log(`   🔍 Title match ("${e.title.toLowerCase()}" includes "${t}"): ${a}`),console.log(`   🔍 Keyword match: ${o}`);const r=a||o;return console.log(`   ${r?"✅":"❌"} Final result: ${r?"INCLUDED":"EXCLUDED"}`),r}));return console.log(`\n📊 Search complete. Found ${a.length} commands for query "${e}"`),a.forEach(((e,t)=>{console.log(`   ${t+1}. ${e.title} (${e.id})`)})),a}const ga=function({results:e,searchTerm:t,selectedIndex:n,setSelectedIndex:a,renderItem:o,emptyMessage:i,emptySearchMessage:l,loading:u=!1,loadingMessage:d=(0,c.__)("Loading...","lexia-command"),loadingMore:m=!1,hasMorePages:p=!1,onLoadMore:h=null}){const[f,g]=(0,s.useState)(null);return u&&0===e.length?(0,r.createElement)(qt.Empty,{className:"lexia-command-loading"},d):e.length>0?(0,r.createElement)(qt.Group,null,e.map(((e,i)=>{const s=i===n||i===f;return(0,r.createElement)(qt.Item,{key:e.id||e.slug||i,value:e.id||e.slug||String(i),className:"lexia-command-result",onMouseEnter:()=>{g(i),a?.(i)},onMouseLeave:()=>g(null),"data-selected":s,onSelect:()=>o(e,i,{isSelected:s,searchTerm:t})},o(e,i,{isSelected:s,searchTerm:t,isCommandItem:!0}))})),m&&(0,r.createElement)(qt.Item,{disabled:!0,className:"lexia-command-loading-more"},(0,c.__)("Loading more...","lexia-command")),p&&!m&&h&&(0,r.createElement)(qt.Item,{className:"lexia-command-load-more",onSelect:h},(0,c.__)("Load more results","lexia-command"))):t?(0,r.createElement)(qt.Empty,{className:"lexia-command-no-results"},i):(0,r.createElement)(qt.Empty,{className:"lexia-command-empty-state"},l)},ya=function({pluginResults:e,searchTerm:t,selectedIndex:n,setSelectedIndex:a,installPlugin:o,activatePlugin:i,installingPlugin:s,activatingPlugin:l,loadingMore:u,hasMorePages:d}){return(0,r.createElement)(ga,{results:e,searchTerm:t,selectedIndex:n,setSelectedIndex:a,renderItem:(e,t,n)=>function(e,t,{isCommandItem:n,installPlugin:a,activatePlugin:o,installingPlugin:i,activatingPlugin:s}){if(n)return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"lexia-command-plugin-result px-4 w-10"},(0,r.createElement)("img",{className:"install-plugin-icon w-100",src:e.icons&&(e.icons["1x"]||e.icons.default||e.icons.svg||e.icons["2x"]),alt:`${e.name} icon`})),(0,r.createElement)("div",{className:"lexia-command-plugin-result-name w-20"},(0,r.createElement)("span",{className:"lexia-command-result-title"},e.name)),(0,r.createElement)("div",{className:"lexia-command-result-details w-65"},(0,r.createElement)("p",{className:"lexia-command-result-description"},e.short_description),(0,r.createElement)("br",null),(0,r.createElement)("span",{className:"lexia-command-result-rating"},"⭐".repeat(Math.round(e.rating/20))," ",(e.rating/20).toFixed(1)),(0,r.createElement)("br",null),(0,r.createElement)("span",{className:"lexia-command-result-installs"},(new Intl.NumberFormat).format(e.active_installs),"+ active installs")),(0,r.createElement)("div",{className:"lexia-command-result-meta w-5"},!e.installed&&(0,r.createElement)("span",null,i===e.slug?(0,r.createElement)("span",{className:"loading-spinner"},"⌛"):(0,r.createElement)("span",{className:"lexia-command-shortcut"},"Enter to install")),e.installed&&!e.active&&(0,r.createElement)("span",null,s===e.slug?(0,r.createElement)("span",{className:"loading-spinner"},"⌛"):(0,r.createElement)("span",{className:"lexia-command-shortcut"},"Enter to activate"))));e.installed?e.installed&&!e.active&&o(e.slug):a(e.slug)}(e,0,{...n,installPlugin:o,activatePlugin:i,installingPlugin:s,activatingPlugin:l}),emptyMessage:(0,c.__)("No plugins found","lexia-command"),emptySearchMessage:(0,c.__)("Search for WordPress plugins...","lexia-command"),loadingMessage:(0,c.__)("Searching plugins...","lexia-command"),loadingMore:u,hasMorePages:d})},wa=function({pageResults:e,searchTerm:t,selectedIndex:n,setSelectedIndex:a,loadingMore:o,hasMorePages:i,closeCommandBar:s}){return(0,r.createElement)(ga,{results:e,searchTerm:t,selectedIndex:n,setSelectedIndex:a,renderItem:(e,t,n)=>function(e,t,{isCommandItem:n}){if(n)return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"lexia-command-page-result-name w-20"},(0,r.createElement)("span",{className:"lexia-command-result-title"},e.title)),(0,r.createElement)("div",{className:"lexia-command-result-details w-65"},(0,r.createElement)("span",{className:"lexia-command-result-status"},e.status)),(0,r.createElement)("div",{className:"lexia-command-result-meta w-15"},(0,r.createElement)("span",{className:"lexia-command-shortcut"},(0,c.__)("Enter for options","lexia-command"))));{const t=new CustomEvent("lexiaCommand:showPageActionMenu",{detail:{page:e}});window.dispatchEvent(t)}}(e,0,{...n}),emptyMessage:(0,c.__)("No pages found","lexia-command"),emptySearchMessage:(0,c.__)("Search for pages...","lexia-command"),loadingMessage:(0,c.__)("Loading more pages...","lexia-command"),loadingMore:o,hasMorePages:i})},xa=function({postResults:e,searchTerm:t,selectedIndex:n,setSelectedIndex:a,loadingMore:o,hasMorePosts:i,closeCommandBar:s}){return(0,r.createElement)(ga,{results:e,searchTerm:t,selectedIndex:n,setSelectedIndex:a,renderItem:(e,t,n)=>function(e,t,{isCommandItem:n}){if(n)return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"lexia-command-post-result-name w-20"},(0,r.createElement)("span",{className:"lexia-command-result-title"},e.title)),(0,r.createElement)("div",{className:"lexia-command-result-details w-65"},(0,r.createElement)("span",{className:"lexia-command-result-status"},e.status)),(0,r.createElement)("div",{className:"lexia-command-result-meta w-15"},(0,r.createElement)("span",{className:"lexia-command-shortcut"},(0,c.__)("Enter for options","lexia-command"))));{const t=new CustomEvent("lexiaCommand:showPostActionMenu",{detail:{post:e}});window.dispatchEvent(t)}}(e,0,{...n}),emptyMessage:(0,c.__)("No posts found","lexia-command"),emptySearchMessage:(0,c.__)("Search for posts...","lexia-command"),loadingMessage:(0,c.__)("Loading more posts...","lexia-command"),loadingMore:o,hasMorePages:i})},va=function({page:e,closeCommandBar:t,onBack:n}){const[a,o]=(0,s.useState)(0),[i,l]=(0,s.useState)(null),[u,d]=(0,s.useState)(""),m=[{id:"view",title:"publish"===e.status?(0,c.__)("View Page","lexia-command"):(0,c.__)("Preview Page","lexia-command"),icon:"👁️",action:()=>{window.location.href=e.url,t()}},{id:"edit",title:(0,c.__)("Edit Page","lexia-command"),icon:"✏️",action:()=>{window.location.href=`${window.lexiaCommandData.adminUrl}post.php?post=${e.id}&action=edit`,t()}},{id:"trash",title:(0,c.__)("Move to Trash","lexia-command"),icon:"🗑️",action:()=>{const n=new FormData;n.append("action","trash"),n.append("post",e.id),n.append("_wpnonce",window.lexiaCommandData.nonce),fetch(`${window.lexiaCommandData.adminUrl}post.php`,{method:"POST",body:n,credentials:"same-origin"}).then((()=>{t(),window.location.reload()})).catch((e=>{console.error("Error trashing page:",e)}))}}],p=(0,s.useMemo)((()=>u?m.filter((e=>e.title.toLowerCase().includes(u.toLowerCase())||e.id.toLowerCase().includes(u.toLowerCase()))):m),[u,m]);(0,s.useEffect)((()=>{const e=e=>{"Escape"===e.key?n():"ArrowDown"===e.key?(e.preventDefault(),o((e=>{const t=e+1;return t>=p.length?0:t}))):"ArrowUp"===e.key?(e.preventDefault(),o((e=>{const t=e-1;return t<0?p.length-1:t}))):"Enter"===e.key&&p.length>0&&a>=0&&a<p.length&&p[a].action()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[n,p,a]),(0,s.useEffect)((()=>{o(0)}),[p.length]);const h={container:{backgroundColor:"transparent",overflow:"hidden",padding:"16px",color:"#fff",height:"100%"},header:{display:"flex",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",paddingBottom:"12px"},backButton:{background:"transparent",border:"none",color:"rgba(255, 255, 255, 0.7)",cursor:"pointer",display:"flex",alignItems:"center",padding:"6px 10px",borderRadius:"4px",transition:"all 0.2s ease",marginRight:"12px",fontSize:"14px"},pageTitle:{margin:"0",fontSize:"18px",fontWeight:"500",color:"#fff",flex:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},actionGroup:{marginTop:"10px"},actionHeading:{fontSize:"14px",color:"rgba(255, 255, 255, 0.6)",marginBottom:"12px",fontWeight:"normal"},searchContainer:{marginBottom:"16px",position:"relative"},searchInput:{width:"100%",padding:"10px 12px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"#fff",fontSize:"14px",outline:"none",transition:"all 0.2s ease"},searchIcon:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"rgba(255, 255, 255, 0.5)",pointerEvents:"none"},actionItem:{display:"flex",alignItems:"center",padding:"10px 12px",margin:"4px 0",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"transparent"},actionIcon:{fontSize:"18px",marginRight:"12px",display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.1)"},actionTitle:{fontSize:"15px",fontWeight:"400"}};return(0,r.createElement)("div",{className:"lexia-command-page-actions-wrapper"},(0,r.createElement)("div",{style:h.header,className:"lexia-command-page-actions-header"},(0,r.createElement)("button",{style:{...h.backButton,backgroundColor:-1===i?"rgba(255, 255, 255, 0.1)":"transparent"},className:"lexia-command-back-button",onClick:n,"aria-label":(0,c.__)("Back to search results","lexia-command"),onMouseEnter:()=>l(-1),onMouseLeave:()=>l(null)},(0,r.createElement)("span",{style:{marginRight:"6px"}},"←")," ",(0,c.__)("Back","lexia-command")),(0,r.createElement)("h3",{style:h.pageTitle,className:"lexia-command-page-title"},e.title)),(0,r.createElement)("div",{className:"lexia-command-search-wrapper"},(0,r.createElement)(qt.Input,{type:"text",style:h.searchInput,className:"lexia-command-search",placeholder:(0,c.__)("Search actions...","lexia-command"),value:u,onValueChange:d,autoFocus:!0})),(0,r.createElement)(qt.List,{style:h.container,className:"lexia-command-page-actions"},(0,r.createElement)("div",{style:h.actionGroup},(0,r.createElement)(qt.Group,null,0===p.length?(0,r.createElement)(qt.Item,{value:"no-results"},(0,r.createElement)("div",{style:{padding:"10px 0",color:"rgba(255, 255, 255, 0.6)"}},(0,c.__)("No actions found","lexia-command"))):p.map(((e,t)=>(0,r.createElement)(qt.Item,{key:e.id,value:e.id,style:{...h.actionItem,backgroundColor:t===a?"rgba(255, 255, 255, 0.15)":t===i?"rgba(255, 255, 255, 0.08)":"transparent"},className:"lexia-command-action-item",onMouseEnter:()=>{o(t),l(t)},onMouseLeave:()=>l(null),onSelect:e.action,"data-selected":t===a},(0,r.createElement)("span",{style:h.actionIcon,className:"lexia-command-action-icon"},e.icon),(0,r.createElement)("span",{style:h.actionTitle,className:"lexia-command-action-title"},e.title))))))))},Ea=function({post:e,closeCommandBar:t,onBack:n}){const[a,o]=(0,s.useState)(0),[i,l]=(0,s.useState)(null),[u,d]=(0,s.useState)(""),m=[{id:"view",title:"publish"===e.status?(0,c.__)("View Post","lexia-command"):(0,c.__)("Preview Post","lexia-command"),icon:"👁️",action:()=>{window.location.href=e.url,t()}},{id:"edit",title:(0,c.__)("Edit Post","lexia-command"),icon:"✏️",action:()=>{window.location.href=`${window.lexiaCommandData.adminUrl}post.php?post=${e.id}&action=edit`,t()}},{id:"trash",title:(0,c.__)("Move to Trash","lexia-command"),icon:"🗑️",action:()=>{const n=new FormData;n.append("action","trash"),n.append("post",e.id),n.append("_wpnonce",window.lexiaCommandData.nonce),fetch(`${window.lexiaCommandData.adminUrl}post.php`,{method:"POST",body:n,credentials:"same-origin"}).then((()=>{t(),window.location.reload()})).catch((e=>{console.error("Error trashing post:",e)}))}}],p=(0,s.useMemo)((()=>u?m.filter((e=>e.title.toLowerCase().includes(u.toLowerCase())||e.id.toLowerCase().includes(u.toLowerCase()))):m),[u,m]);(0,s.useEffect)((()=>{const e=e=>{"Escape"===e.key?n():"ArrowDown"===e.key?(e.preventDefault(),o((e=>{const t=e+1;return t>=p.length?0:t}))):"ArrowUp"===e.key?(e.preventDefault(),o((e=>{const t=e-1;return t<0?p.length-1:t}))):"Enter"===e.key&&p.length>0&&a>=0&&a<p.length&&p[a].action()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[n,p,a]),(0,s.useEffect)((()=>{o(0)}),[p.length]);const h={container:{backgroundColor:"transparent",overflow:"hidden",padding:"16px",color:"#fff",height:"100%"},header:{display:"flex",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",paddingBottom:"12px"},backButton:{background:"transparent",border:"none",color:"rgba(255, 255, 255, 0.7)",cursor:"pointer",display:"flex",alignItems:"center",padding:"6px 10px",borderRadius:"4px",transition:"all 0.2s ease",marginRight:"12px",fontSize:"14px"},pageTitle:{margin:"0",fontSize:"18px",fontWeight:"500",color:"#fff",flex:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},actionGroup:{marginTop:"10px"},actionHeading:{fontSize:"14px",color:"rgba(255, 255, 255, 0.6)",marginBottom:"12px",fontWeight:"normal"},searchContainer:{marginBottom:"16px",position:"relative"},searchInput:{width:"100%",padding:"10px 12px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"#fff",fontSize:"14px",outline:"none",transition:"all 0.2s ease"},searchIcon:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"rgba(255, 255, 255, 0.5)",pointerEvents:"none"},actionItem:{display:"flex",alignItems:"center",padding:"10px 12px",margin:"4px 0",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"transparent"},actionIcon:{fontSize:"18px",marginRight:"12px",display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.1)"},actionTitle:{fontSize:"15px",fontWeight:"400"}};return(0,r.createElement)("div",{className:"lexia-command-post-actions-wrapper"},(0,r.createElement)("div",{style:h.header,className:"lexia-command-post-actions-header"},(0,r.createElement)("button",{style:{...h.backButton,backgroundColor:-1===i?"rgba(255, 255, 255, 0.1)":"transparent"},className:"lexia-command-back-button",onClick:n,"aria-label":(0,c.__)("Back to search results","lexia-command"),onMouseEnter:()=>l(-1),onMouseLeave:()=>l(null)},(0,r.createElement)("span",{style:{marginRight:"6px"}},"←")," ",(0,c.__)("Back","lexia-command")),(0,r.createElement)("h3",{style:h.pageTitle,className:"lexia-command-post-title"},e.title)),(0,r.createElement)("div",{className:"lexia-command-search-wrapper"},(0,r.createElement)(qt.Input,{type:"text",style:h.searchInput,className:"lexia-command-search",placeholder:(0,c.__)("Search actions...","lexia-command"),value:u,onValueChange:d,autoFocus:!0})),(0,r.createElement)(qt.List,{style:h.container,className:"lexia-command-post-actions"},(0,r.createElement)("div",{style:h.actionGroup},(0,r.createElement)(qt.Group,null,0===p.length?(0,r.createElement)(qt.Item,{value:"no-results"},(0,r.createElement)("div",{style:{padding:"10px 0",color:"rgba(255, 255, 255, 0.6)"}},(0,c.__)("No actions found","lexia-command"))):p.map(((e,t)=>(0,r.createElement)(qt.Item,{key:e.id,value:e.id,style:{...h.actionItem,backgroundColor:t===a?"rgba(255, 255, 255, 0.15)":t===i?"rgba(255, 255, 255, 0.08)":"transparent"},className:"lexia-command-action-item",onMouseEnter:()=>{o(t),l(t)},onMouseLeave:()=>l(null),onSelect:e.action,"data-selected":t===a},(0,r.createElement)("span",{style:h.actionIcon,className:"lexia-command-action-icon"},e.icon),(0,r.createElement)("span",{style:h.actionTitle,className:"lexia-command-action-title"},e.title))))))))},ba=function({plugin:e,closeCommandBar:t,onBack:n}){const[a,o]=(0,s.useState)(0),[i,l]=(0,s.useState)(null),[d,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),f=(0,s.useMemo)((()=>{const n=[];return e.active?n.push({id:"deactivate",title:(0,c.__)("Deactivate Plugin","lexia-command"),icon:"🔌",action:async()=>{h(!0);try{await u()({path:`${window.lexiaCommandData.restNamespace}/deactivate-plugin`,method:"POST",data:{slug:e.slug}}),t(),window.location.reload()}catch(e){console.error("Plugin deactivation failed:",e),h(!1)}}}):n.push({id:"activate",title:(0,c.__)("Activate Plugin","lexia-command"),icon:"✅",action:async()=>{h(!0);try{await u()({path:`${window.lexiaCommandData.restNamespace}/activate-plugin`,method:"POST",data:{slug:e.slug}}),t(),window.location.reload()}catch(e){console.error("Plugin activation failed:",e),h(!1)}}}),n.push({id:"delete",title:(0,c.__)("Delete Plugin","lexia-command"),icon:"🗑️",action:async()=>{if(window.confirm((0,c.__)("Are you sure you want to delete this plugin?","lexia-command"))){h(!0);try{await u()({path:`${window.lexiaCommandData.restNamespace}/delete-plugin`,method:"POST",data:{slug:e.slug}}),t(),window.location.reload()}catch(e){console.error("Plugin deletion failed:",e),h(!1)}}}}),n}),[e,t]),g=(0,s.useMemo)((()=>d?f.filter((e=>e.title.toLowerCase().includes(d.toLowerCase())||e.id.toLowerCase().includes(d.toLowerCase()))):f),[d,f]);return(0,s.useEffect)((()=>{const e=e=>{"Escape"===e.key?n():"ArrowDown"===e.key?(e.preventDefault(),o((e=>{const t=e+1;return t>=g.length?0:t}))):"ArrowUp"===e.key?(e.preventDefault(),o((e=>{const t=e-1;return t<0?g.length-1:t}))):"Enter"===e.key&&g.length>0&&a>=0&&a<g.length&&g[a].action()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[n,g,a]),(0,s.useEffect)((()=>{o(0)}),[g.length]),(0,r.createElement)("div",{className:"lexia-command-action-menu"},(0,r.createElement)(qt.Input,{value:d,onValueChange:m,placeholder:(0,c.__)("Search actions...","lexia-command"),className:"lexia-command-search",autoComplete:"off",autoFocus:!0}),(0,r.createElement)("div",{className:"lexia-command-plugin-info"},(0,r.createElement)("h3",null,e.name),(0,r.createElement)("div",{className:"lexia-command-plugin-status"},(0,r.createElement)("span",{className:"status-indicator "+(e.active?"active":"inactive")}),(0,r.createElement)("span",null,e.active?(0,c.__)("Active","lexia-command"):(0,c.__)("Inactive","lexia-command")))),(0,r.createElement)(qt.List,{className:"lexia-command-action-list"},p?(0,r.createElement)(qt.Loading,{className:"lexia-command-loading"},(0,c.__)("Processing...","lexia-command")):g.length>0?(0,r.createElement)(qt.Group,null,g.map(((e,t)=>(0,r.createElement)(qt.Item,{key:e.id,value:e.id,className:"lexia-command-action-item",onMouseEnter:()=>l(t),onMouseLeave:()=>l(null),onSelect:()=>e.action(),"data-selected":t===a||t===i},(0,r.createElement)("div",{className:"lexia-command-action-icon"},e.icon),(0,r.createElement)("div",{className:"lexia-command-action-title"},e.title))))):(0,r.createElement)(qt.Empty,{className:"lexia-command-no-results"},(0,c.__)("No actions found","lexia-command"))))},Ca=function({installedPlugins:e,selectedIndex:t,setSelectedIndex:n,closeCommandBar:a,onSelectPlugin:o}){return(0,r.createElement)(ga,{results:e,selectedIndex:t,setSelectedIndex:n,renderItem:(e,t,n)=>function(e,t,{isCommandItem:n,onSelectPlugin:a}){if(n)return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"lexia-command-plugin-result px-4 w-10"},(0,r.createElement)("span",{className:"plugin-icon"},"🔌")),(0,r.createElement)("div",{className:"lexia-command-plugin-result-name w-20"},(0,r.createElement)("span",{className:"lexia-command-result-title"},e.name)),(0,r.createElement)("div",{className:"lexia-command-result-details w-65"},(0,r.createElement)("span",{className:"lexia-command-plugin-status"},e.active?(0,r.createElement)("span",{className:"status-active"},"✅ ",(0,c.__)("Active","lexia-command")):(0,r.createElement)("span",{className:"status-inactive"},"⚠️ ",(0,c.__)("Inactive","lexia-command")))),(0,r.createElement)("div",{className:"lexia-command-result-meta w-5"},(0,r.createElement)("span",{className:"lexia-command-shortcut"},(0,c.__)("Enter for actions","lexia-command"))));a(e)}(e,0,{...n,onSelectPlugin:o,closeCommandBar:a}),emptyMessage:(0,c.__)("No plugins installed","lexia-command"),emptySearchMessage:(0,c.__)("Search installed plugins...","lexia-command")})},_a=function({results:e,selectedIndex:t,setSelectedIndex:n,closeCommandBar:a}){return e.length>0?(0,r.createElement)(qt.Group,null,e.map(((e,o)=>(0,r.createElement)(qt.Item,{key:e.id||o,value:e.id||String(o),className:"lexia-command-result",onSelect:()=>{!1!==e.action(a)&&a()},onMouseEnter:()=>n(o),"data-selected":o===t,"data-command-id":e.id},(0,r.createElement)("span",{className:"lexia-command-result-icon"},e.icon),(0,r.createElement)("span",{className:"lexia-command-result-title"},e.title))))):(0,r.createElement)(qt.Empty,{className:"lexia-command-no-results"},(0,c.__)("No results found","lexia-command"))},ka=function({searchTerm:e}){return(0,r.createElement)(qt.Empty,{className:"lexia-command-no-results"},(0,r.createElement)("div",{className:"lexia-command-no-command-found"},(0,r.createElement)("p",null,(0,c.__)("No Command Found","lexia-command")),(0,r.createElement)("p",null,(0,c.__)("Were you trying to search for:","lexia-command")),(0,r.createElement)("div",{className:"lexia-command-suggestion-buttons"},(0,r.createElement)("button",{className:"lexia-command-suggestion-button",onClick:()=>{const t=new CustomEvent("lexiaCommand:showPostSearch",{detail:{searchTerm:e}});window.dispatchEvent(t)}},(0,r.createElement)("span",{className:"lexia-command-suggestion-icon"},"📝"),(0,r.createElement)("span",null,(0,c.__)("Posts","lexia-command"))),(0,r.createElement)("button",{className:"lexia-command-suggestion-button",onClick:()=>{const t=new CustomEvent("lexiaCommand:showPageSearch",{detail:{searchTerm:e}});window.dispatchEvent(t)}},(0,r.createElement)("span",{className:"lexia-command-suggestion-icon"},"📄"),(0,r.createElement)("span",null,(0,c.__)("Pages","lexia-command"))))))},Sa=e=>{const t=document.getElementById("lexia-command-live-region");if(!t){const t=document.createElement("div");return t.id="lexia-command-live-region",t.className="screen-reader-text",t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),document.body.appendChild(t),Sa(e)}t.textContent=e},Aa="lexia-command-dark-mode";function Na(){if(console.log("🔍 theme.js: isDarkModeEnabled called"),void 0!==window?.lexiaCommandData?.userPreferences?.darkMode){const e=window.lexiaCommandData.userPreferences.darkMode,t="true"===e||!0===e;return console.log("🔍 theme.js: Using DB value:",e,"-> result:",t),t}try{const e=localStorage.getItem("lexia-command-dark-mode"),t="true"===e;return console.log("🔍 theme.js: Using localStorage value:",e,"-> result:",t),t}catch(e){return console.log("🔍 theme.js: localStorage error, returning false"),!1}}async function Ma(){console.log("🌙 theme.js: enableDarkMode called"),document.documentElement.classList.add(Aa),console.log("🌙 theme.js: Added CSS class to documentElement");try{localStorage.setItem("lexia-command-dark-mode","true"),console.log("🌙 theme.js: Updated localStorage to true")}catch(e){console.log("🌙 theme.js: localStorage error:",e)}await Pa("darkMode","true"),console.log("🌙 theme.js: Database save completed"),"undefined"!=typeof window&&(window.dispatchEvent(new CustomEvent("lexia-theme-change",{detail:{theme:"dark"}})),console.log("🌙 theme.js: Dispatched lexia-theme-change event"))}async function Da(){console.log("🌕 theme.js: disableDarkMode called"),console.trace("🌕 theme.js: Call stack for disableDarkMode:"),document.documentElement.classList.remove(Aa),console.log("🌕 theme.js: Removed CSS class from documentElement");try{localStorage.setItem("lexia-command-dark-mode","false"),console.log("🌕 theme.js: Updated localStorage to false")}catch(e){console.log("🌕 theme.js: localStorage error:",e)}await Pa("darkMode","false"),console.log("🌕 theme.js: Database save completed"),"undefined"!=typeof window&&(window.dispatchEvent(new CustomEvent("lexia-theme-change",{detail:{theme:"light"}})),console.log("🌕 theme.js: Dispatched lexia-theme-change event"))}function Ia(){if(void 0!==window?.lexiaCommandData?.userPreferences?.theme)return window.lexiaCommandData.userPreferences.theme||"light";try{return localStorage.getItem("lexia-command-theme")||"light"}catch(e){return"light"}}async function Pa(e,t){try{await u()({path:`/${window.lexiaCommandData.restNamespace}/save-user-preference`,method:"POST",data:{key:e,value:t}}),window.lexiaCommandData&&window.lexiaCommandData.userPreferences&&(window.lexiaCommandData.userPreferences[e]=t)}catch(e){console.error("Failed to save user preference:",e)}}const La=function({highContrast:e,setHighContrast:t,reducedMotion:n,setReducedMotion:a,largerFontSize:o,setLargerFontSize:i,darkMode:l,setDarkMode:u,showAdvanced:d=!1}){const[m,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(Ia());(0,s.useEffect)((()=>{const e=e=>{const t=document.querySelector(".lexia-accessibility-menu");t&&!t.contains(e.target)&&m&&p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[m]),(0,s.useEffect)((()=>{f(Ia())}),[l]),(0,s.useEffect)((()=>{const e=e=>{if(e.altKey)switch(e.key.toLowerCase()){case"d":e.preventDefault(),g();break;case"h":e.preventDefault(),y();break;case"m":e.preventDefault(),w();break;case"f":e.preventDefault(),x()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[e,n,o,l]);const g=async()=>{console.log("🌙 AccessibilityMenu: Dark mode toggle clicked"),console.log("🌙 AccessibilityMenu: Current darkMode state:",l);const e=await async function(){console.log("🔄 theme.js: toggleDarkMode called");const e=Na();return console.log("🔄 theme.js: Current state is enabled:",e),e?(console.log("🔄 theme.js: Disabling dark mode"),await Da(),!1):(console.log("🔄 theme.js: Enabling dark mode"),await Ma(),!0)}();console.log("🌙 AccessibilityMenu: toggleDarkModeUtil returned:",e),u(e),console.log("🌙 AccessibilityMenu: Called setDarkMode with:",e),Sa(e?(0,c.__)("Dark mode enabled","lexia-command"):(0,c.__)("Dark mode disabled","lexia-command"))},y=()=>{t(!e),Sa(e?(0,c.__)("High contrast mode disabled","lexia-command"):(0,c.__)("High contrast mode enabled","lexia-command"))},w=()=>{a(!n),Sa(n?(0,c.__)("Reduced motion disabled","lexia-command"):(0,c.__)("Reduced motion enabled","lexia-command"))},x=()=>{i(!o),Sa(o?(0,c.__)("Larger font size disabled","lexia-command"):(0,c.__)("Larger font size enabled","lexia-command"))};return(0,r.createElement)("div",{className:"lexia-accessibility-menu",role:"menu","aria-label":(0,c.__)("Accessibility options","lexia-command")},(0,r.createElement)("button",{className:"lexia-accessibility-button","aria-haspopup":"true","aria-expanded":m?"true":"false",onClick:()=>p(!m),"aria-label":(0,c.__)("Accessibility options","lexia-command")},(0,r.createElement)("span",{className:"dashicons dashicons-universal-access"}),(0,r.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Accessibility options","lexia-command"))),m&&(0,r.createElement)("div",{className:"lexia-accessibility-options",role:"group","aria-label":(0,c.__)("Accessibility settings","lexia-command")},(0,r.createElement)("div",{className:"lexia-accessibility-option",role:"menuitem",tabIndex:"0",onClick:g,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),g())}},(0,r.createElement)("div",{className:"lexia-accessibility-option-label"},(0,r.createElement)("span",null,(0,c.__)("Dark Mode","lexia-command"))),(0,r.createElement)("label",{className:"lexia-accessibility-toggle",onClick:e=>e.stopPropagation()},(0,r.createElement)("input",{type:"checkbox",checked:l,onChange:e=>{e.stopPropagation(),g()},"aria-label":(0,c.__)("Dark Mode","lexia-command")}),(0,r.createElement)("span",{className:"lexia-accessibility-slider"})),(0,r.createElement)("span",{className:"lexia-accessibility-shortcut"},"Alt+D")),d&&(0,r.createElement)("div",{className:"lexia-accessibility-option lexia-theme-selector"},(0,r.createElement)("label",{htmlFor:"theme-preference"},(0,r.createElement)("span",null,(0,c.__)("Theme Preference","lexia-command"))),(0,r.createElement)("select",{id:"theme-preference",value:h,onChange:e=>{const t=e.target.value;f(t),function(e){const t=["light","dark","system"].includes(e)?e:"light";try{localStorage.setItem("lexia-command-theme",t)}catch(e){}Pa("theme",t),function(e){"dark"===e?Ma():"light"===e?Da():"system"===e&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ma():Da())}(t)}(t),Sa((0,c.__)(`Theme preference set to ${t}`,"lexia-command"))},"aria-label":(0,c.__)("Theme Preference","lexia-command")},(0,r.createElement)("option",{value:"light"},(0,c.__)("Light","lexia-command")),(0,r.createElement)("option",{value:"dark"},(0,c.__)("Dark","lexia-command")),(0,r.createElement)("option",{value:"system"},(0,c.__)("System","lexia-command")))),(0,r.createElement)("div",{className:"lexia-accessibility-option",role:"menuitem",tabIndex:"0",onClick:y,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),y())}},(0,r.createElement)("div",{className:"lexia-accessibility-option-label"},(0,r.createElement)("span",null,(0,c.__)("High Contrast Mode","lexia-command"))),(0,r.createElement)("label",{className:"lexia-accessibility-toggle",onClick:e=>e.stopPropagation()},(0,r.createElement)("input",{type:"checkbox",checked:e,onChange:e=>{e.stopPropagation(),y()},"aria-label":(0,c.__)("High Contrast","lexia-command")}),(0,r.createElement)("span",{className:"lexia-accessibility-slider"})),(0,r.createElement)("span",{className:"lexia-accessibility-shortcut"},"Alt+H")),(0,r.createElement)("div",{className:"lexia-accessibility-option",role:"menuitem",tabIndex:"0",onClick:w,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),w())}},(0,r.createElement)("div",{className:"lexia-accessibility-option-label"},(0,r.createElement)("span",null,(0,c.__)("Reduced Motion","lexia-command"))),(0,r.createElement)("label",{className:"lexia-accessibility-toggle",onClick:e=>e.stopPropagation()},(0,r.createElement)("input",{type:"checkbox",checked:n,onChange:e=>{e.stopPropagation(),w()},"aria-label":(0,c.__)("Reduced Motion","lexia-command")}),(0,r.createElement)("span",{className:"lexia-accessibility-slider"})),(0,r.createElement)("span",{className:"lexia-accessibility-shortcut"},"Alt+M")),(0,r.createElement)("div",{className:"lexia-accessibility-option",role:"menuitem",tabIndex:"0",onClick:x,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x())}},(0,r.createElement)("div",{className:"lexia-accessibility-option-label"},(0,r.createElement)("span",null,(0,c.__)("Larger Font Size","lexia-command"))),(0,r.createElement)("label",{className:"lexia-accessibility-toggle",onClick:e=>e.stopPropagation()},(0,r.createElement)("input",{type:"checkbox",checked:o,onChange:e=>{e.stopPropagation(),x()},"aria-label":(0,c.__)("Larger Text","lexia-command")}),(0,r.createElement)("span",{className:"lexia-accessibility-slider"})),(0,r.createElement)("span",{className:"lexia-accessibility-shortcut"},"Alt+F"))))},Ra=({children:e,commands:t=[],delay:n=500,enabled:a=!0,className:o="",style:i={}})=>{const[l,u]=(0,s.useState)({visible:!1,content:null,position:{x:0,y:0},placement:"top"}),d=(0,s.useRef)(null),m=(0,s.useRef)(null),p=(0,s.useRef)(null);(0,s.useEffect)((()=>()=>{d.current&&clearTimeout(d.current)}),[]);const h=(0,s.useCallback)((e=>t.find((t=>t.id===e))),[t]),f=(0,s.useCallback)(((e,t)=>{if(!e||!t)return{x:0,y:0,placement:"top"};const n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=window.innerWidth,r=window.innerHeight;let i=n.left+n.width/2-a.width/2,s=n.top-a.height-8,c="top";const l=s<0,u=n.bottom+a.height+8>r,d=i<8,m=i+a.width>o-8;return l&&!u&&(s=n.bottom+8,c="bottom"),d?(i=8,c="left"):m&&(i=o-a.width-8,c="right"),{x:i,y:s,placement:c}}),[]),g=(0,s.useCallback)((e=>{if(!a)return;const t=e.getAttribute("data-command-id");if(!t)return;const o=h(t);o&&(d.current&&clearTimeout(d.current),d.current=setTimeout((()=>{const t={id:o.id,title:o.title,description:o.description||(0,c.__)("No description available","lexia-command"),shortcuts:o.shortcuts||[],category:o.category};u({visible:!0,content:t,position:{x:0,y:0},placement:"top",targetElement:e})}),n))}),[a,n,h]),y=(0,s.useCallback)((()=>{d.current&&(clearTimeout(d.current),d.current=null),u((e=>({...e,visible:!1})))}),[]);return(0,s.useEffect)((()=>{if(l.visible&&l.targetElement){const e={x:0,y:0,placement:"top"};if(m.current&&"undefined"==typeof jest){const t=f(l.targetElement,m.current);Object.assign(e,t)}u((t=>({...t,position:e})))}}),[l.visible,l.targetElement,f]),(0,s.useEffect)((()=>{const e=p.current;if(!e)return;const t=e=>{const t=e.target.closest("[data-command-id]");if(t){g(t);const e=`tooltip-${t.getAttribute("data-command-id")}`;t.setAttribute("aria-describedby",e)}},n=e=>{const t=e.target.closest("[data-command-id]");t&&(y(),t.removeAttribute("aria-describedby"))},a=e=>{if(e.target.hasAttribute("data-command-id")){g(e.target);const t=`tooltip-${e.target.getAttribute("data-command-id")}`;e.target.setAttribute("aria-describedby",t)}},o=e=>{e.target.hasAttribute("data-command-id")&&(y(),e.target.removeAttribute("aria-describedby"))};return e.addEventListener("mouseenter",t,!0),e.addEventListener("mouseleave",n,!0),e.addEventListener("focus",a,!0),e.addEventListener("blur",o,!0),()=>{e.removeEventListener("mouseenter",t,!0),e.removeEventListener("mouseleave",n,!0),e.removeEventListener("focus",a,!0),e.removeEventListener("blur",o,!0)}}),[g,y]),(0,r.createElement)("div",{ref:p,className:"command-tooltips-container"},e,l.visible&&l.content&&(0,r.createElement)("div",{ref:m,id:`tooltip-${l.content.id}`,role:"tooltip",className:`command-tooltip tooltip-${l.position.placement} ${o}`,style:{position:"fixed",left:`${l.position.x}px`,top:`${l.position.y}px`,zIndex:1e4,...i},"aria-hidden":"false"},(()=>{if(!l.content)return null;const{title:e,description:t,shortcuts:n,category:a}=l.content;return(0,r.createElement)("div",{className:"command-tooltip-content"},(0,r.createElement)("div",{className:"command-tooltip-title"},e),t&&(0,r.createElement)("div",{className:"command-tooltip-description"},t),a&&(0,r.createElement)("div",{className:"command-tooltip-category"},(0,c.__)("Category:","lexia-command")," ",a),n&&n.length>0&&(0,r.createElement)("div",{className:"command-tooltip-shortcuts"},(0,r.createElement)("div",{className:"command-tooltip-shortcuts-label"},(0,c.__)("Shortcuts:","lexia-command")),(0,r.createElement)("div",{className:"command-tooltip-shortcuts-list"},n.map(((e,t)=>(0,r.createElement)("kbd",{key:t,className:"command-tooltip-shortcut"},e))))))})(),(0,r.createElement)("div",{className:`command-tooltip-arrow tooltip-arrow-${l.position.placement}`})))},Fa=({results:e=[],format:t="text",fields:n=["title","url"],buttonText:a=null,successMessage:o=null,errorMessage:i=null,feedbackTimeout:l=3e3,disabled:u=!1,onCopyStart:d=null,onCopySuccess:m=null,onCopyError:p=null})=>{const[h,f]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),w=(0,s.useRef)(null);if(!e.length||u)return null;const x=(0,s.useCallback)(((e,t)=>{if("function"==typeof t)return t(e);switch(t){case"json":return JSON.stringify(e,null,2);case"csv":if(0===e.length)return"";const t=n.filter((t=>e.some((e=>e.hasOwnProperty(t)))));return`${t.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(",")}\n${e.map((e=>t.map((t=>{const n=e[t]||"";return`"${String(n).replace(/"/g,'""')}"`})).join(","))).join("\n")}`;case"markdown":return e.map((e=>{const t=e.title||"",n=e.url||"";return n?`- [${t}](${n})`:`- ${t}`})).join("\n");default:return 1===n.length?e.map((e=>e[n[0]]||"")).join("\n"):e.map((e=>n.map((t=>e[t]||"")).join(" - "))).join("\n")}}),[n]),v=(0,s.useCallback)((async e=>{if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(e),!0}catch(e){console.warn("Clipboard API failed, trying fallback:",e)}if(document.execCommand)try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);const n=document.execCommand("copy");if(document.body.removeChild(t),n)return!0}catch(e){console.warn("execCommand fallback failed:",e)}throw new Error((0,c.__)("Copy feature not supported in this browser","lexia-command"))}),[]),E=(0,s.useCallback)(((e,t="success")=>{y({message:e,type:t}),w.current&&clearTimeout(w.current),w.current=setTimeout((()=>{y(null),w.current=null}),l)}),[l]),b=(0,s.useCallback)((async()=>{if(!h){f(!0);try{d&&d(e);const n=x(e,t);await v(n);const a=o||(0,c.__)("Copied to clipboard!","lexia-command");E(a,"success"),m&&m(e,n)}catch(t){console.error("Copy operation failed:",t);const n=i||(0,c.__)("Failed to copy to clipboard","lexia-command");E(n,"error"),p&&p(t,e)}finally{f(!1)}}}),[h,e,t,x,v,o,i,E,d,m,p]),C=(0,s.useCallback)((e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),b())}),[b]);(0,s.useEffect)((()=>()=>{w.current&&clearTimeout(w.current)}),[]);const _=a||(0,c.__)("Copy Results","lexia-command"),k=(0,c.__)("Copy search results to clipboard","lexia-command");return(0,r.createElement)("div",{className:"copy-results-container"},(0,r.createElement)("button",{type:"button",className:"copy-results-button "+(h?"loading":""),onClick:b,onKeyDown:C,disabled:h,"aria-label":k,title:k},(0,r.createElement)("span",{className:"copy-results-icon"},h?"⏳":"📋"),(0,r.createElement)("span",{className:"copy-results-text"},h?(0,c.__)("Copying...","lexia-command"):_),(0,r.createElement)("span",{className:"copy-results-count"},"(",e.length,")")),g&&(0,r.createElement)("div",{className:`copy-results-feedback copy-results-feedback-${g.type}`,role:"status","aria-live":"polite"},(0,r.createElement)("span",{className:"copy-results-feedback-icon"},"success"===g.type?"✅":"❌"),(0,r.createElement)("span",{className:"copy-results-feedback-text"},g.message)))},Ba=({onBack:e,closeCommandBar:t})=>{const{shortcuts:n,isMac:a,updateShortcut:o,resetShortcuts:i,resetShortcut:l,detectConflicts:u,exportShortcuts:d,importShortcuts:m,isValidShortcut:p}=dn((()=>{})),[h,f]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1),[w,x]=(0,s.useState)(null),[v,E]=(0,s.useState)([]),[b,C]=(0,s.useState)(!1),[_,k]=(0,s.useState)(""),[S,A]=(0,s.useState)(0);(0,s.useEffect)((()=>{n&&E(u())}),[n,u]),(0,s.useEffect)((()=>{const t=t=>{"Escape"===t.key&&(g?(y(!1),x(null),f(null)):h?f(null):b?C(!1):e&&e())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[g,h,b,e]);const N=(0,s.useCallback)((e=>{const t=[];return e.meta&&t.push(a?"⌘":"Ctrl"),e.ctrl&&!e.meta&&t.push("Ctrl"),e.alt&&t.push(a?"⌥":"Alt"),e.shift&&t.push(a?"⇧":"Shift"),t.push(e.key.toUpperCase()),t.join(" + ")}),[a]),M=(0,s.useCallback)((e=>{f(e),y(!0),x(null)}),[]),D=(0,s.useCallback)((e=>{if(!g)return;e.preventDefault(),e.stopPropagation();const t={key:e.key,meta:e.metaKey,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey};x(t)}),[g]),I=(0,s.useCallback)((()=>{w&&h&&p(w)&&(o(h,w),f(null),y(!1),x(null))}),[w,h,p,o]),P=(0,s.useCallback)((()=>{f(null),y(!1),x(null)}),[]),L=(0,s.useCallback)((e=>({openCommand:(0,c.__)("Open Command Bar","lexia-command"),selectResult1:(0,c.__)("Select Result 1","lexia-command"),selectResult2:(0,c.__)("Select Result 2","lexia-command"),selectResult3:(0,c.__)("Select Result 3","lexia-command"),selectResult4:(0,c.__)("Select Result 4","lexia-command"),selectResult5:(0,c.__)("Select Result 5","lexia-command"),selectResult6:(0,c.__)("Select Result 6","lexia-command"),selectResult7:(0,c.__)("Select Result 7","lexia-command"),selectResult8:(0,c.__)("Select Result 8","lexia-command"),selectResult9:(0,c.__)("Select Result 9","lexia-command")}[e]||e)),[]),R=(0,s.useCallback)((()=>{try{const e=JSON.parse(_);m(e),k(""),C(!1)}catch(e){alert((0,c.__)("Invalid shortcuts configuration. Please check the JSON format.","lexia-command"))}}),[_,m]),F=(0,s.useCallback)((()=>{const e=d();k(JSON.stringify(e,null,2)),C(!0)}),[d]);if((0,s.useEffect)((()=>(g&&document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D))),[g,D]),!n)return null;if(b)return(0,r.createElement)("div",{className:"lexia-command-container shortcut-settings-container"},(0,r.createElement)("div",{className:"shortcut-settings-back"},(0,r.createElement)("button",{onClick:()=>C(!1),className:"back-button"},"← ",(0,c.__)("Back to Shortcuts","lexia-command"))),(0,r.createElement)("div",{className:"import-export-section"},(0,r.createElement)("h3",null,(0,c.__)("Import/Export Shortcuts Configuration","lexia-command")),(0,r.createElement)("textarea",{value:_,onChange:e=>k(e.target.value),placeholder:(0,c.__)("Paste shortcuts configuration JSON here or copy the exported config...","lexia-command"),rows:12,className:"shortcuts-config-textarea",autoFocus:!0}),(0,r.createElement)("div",{className:"import-export-buttons"},(0,r.createElement)("button",{className:"import-shortcuts action-button",onClick:R,disabled:!_.trim()},(0,c.__)("Import Configuration","lexia-command")),(0,r.createElement)("button",{className:"close-import-export secondary-button",onClick:()=>C(!1)},(0,c.__)("Cancel","lexia-command")))));if(g&&h)return(0,r.createElement)("div",{className:"lexia-command-container shortcut-settings-container"},(0,r.createElement)("div",{className:"shortcut-settings-back"},(0,r.createElement)("button",{onClick:P,className:"back-button"},"← ",(0,c.__)("Cancel","lexia-command"))),(0,r.createElement)("div",{className:"recording-section"},(0,r.createElement)("h3",null,(0,c.__)("Recording Shortcut for:","lexia-command")," ",L(h)),(0,r.createElement)("div",{className:"recording-prompt"},w?(0,r.createElement)("div",{className:"recorded-shortcut"},(0,r.createElement)("kbd",{className:"large-kbd"},N(w)),(0,r.createElement)("div",{className:"recording-actions"},(0,r.createElement)("button",{className:"save-shortcut action-button",onClick:I,disabled:!p(w),autoFocus:!0},(0,c.__)("Save Shortcut","lexia-command")),(0,r.createElement)("button",{className:"cancel-recording secondary-button",onClick:P},(0,c.__)("Cancel","lexia-command"))),!p(w)&&(0,r.createElement)("p",{className:"error-message"},(0,c.__)("Invalid shortcut. Must include at least one modifier key (Ctrl, Alt, Shift, or Cmd)","lexia-command"))):(0,r.createElement)("div",{className:"waiting-for-keys"},(0,r.createElement)("p",null,(0,c.__)("Press new shortcut keys...","lexia-command")),(0,r.createElement)("p",{className:"help-text"},(0,c.__)("Must include at least one modifier key (Ctrl, Alt, Shift, or Cmd)","lexia-command"))))));const B=Object.entries(n);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(qt.Group,null,(0,r.createElement)("div",{className:"shortcut-settings-header"},e&&(0,r.createElement)("button",{onClick:e,className:"back-button"},"← ",(0,c.__)("Back to Commands","lexia-command"))),v.length>0&&(0,r.createElement)("div",{className:"shortcut-conflicts"},(0,r.createElement)("strong",null,(0,c.__)("⚠️ Conflicts:","lexia-command")),v.map(((e,t)=>(0,r.createElement)("span",{key:t,className:"conflict-item"},N(e.shortcut)," → ",e.commands.map((e=>L(e))).join(", "))))),B.map((([e,t],n)=>(0,r.createElement)(qt.Item,{key:e,value:e,className:"lexia-command-result shortcut-item",onSelect:()=>M(e),"data-selected":n===S,onMouseEnter:()=>A(n)},(0,r.createElement)("div",{className:"lexia-command-plugin-result px-4 w-10"},(0,r.createElement)("span",{className:"shortcut-icon"},"⌨️")),(0,r.createElement)("div",{className:"lexia-command-plugin-result-name w-30"},(0,r.createElement)("span",{className:"lexia-command-result-title shortcut-name"},L(e))),(0,r.createElement)("div",{className:"lexia-command-result-details w-35"},(0,r.createElement)("kbd",{className:"shortcut-keys"},N(t))),(0,r.createElement)("div",{className:"lexia-command-result-meta w-25"},(0,r.createElement)("div",{className:"shortcut-buttons"},(0,r.createElement)("button",{className:"edit-button",onClick:t=>{t.stopPropagation(),M(e)}},(0,c.__)("Edit","lexia-command")),(0,r.createElement)("button",{className:"reset-button",onClick:t=>{t.stopPropagation(),l(e)}},(0,c.__)("Reset","lexia-command"))))))),(0,r.createElement)(qt.Item,{value:"reset-all",className:"lexia-command-result shortcut-action-item",onSelect:i},(0,r.createElement)("div",{className:"lexia-command-plugin-result px-4 w-10"},(0,r.createElement)("span",{className:"action-icon"},"🔄")),(0,r.createElement)("div",{className:"lexia-command-plugin-result-name w-90"},(0,r.createElement)("span",{className:"lexia-command-result-title"},(0,c.__)("Reset All to Defaults","lexia-command")))),(0,r.createElement)(qt.Item,{value:"export",className:"lexia-command-result shortcut-action-item",onSelect:F},(0,r.createElement)("div",{className:"lexia-command-plugin-result px-4 w-10"},(0,r.createElement)("span",{className:"action-icon"},"📤")),(0,r.createElement)("div",{className:"lexia-command-plugin-result-name w-90"},(0,r.createElement)("span",{className:"lexia-command-result-title"},(0,c.__)("Export Settings","lexia-command")))),(0,r.createElement)(qt.Item,{value:"import",className:"lexia-command-result shortcut-action-item",onSelect:()=>C(!0)},(0,r.createElement)("div",{className:"lexia-command-plugin-result px-4 w-10"},(0,r.createElement)("span",{className:"action-icon"},"📥")),(0,r.createElement)("div",{className:"lexia-command-plugin-result-name w-90"},(0,r.createElement)("span",{className:"lexia-command-result-title"},(0,c.__)("Import Settings","lexia-command"))))),(0,r.createElement)(qt.Empty,{className:"lexia-command-no-results"},(0,c.__)("No keyboard shortcuts available","lexia-command")))};(0,s.render)((0,r.createElement)((function(){const[e,t]=(0,s.useState)(!1),[n,a]=(0,s.useState)([]),[o,i]=(0,s.useState)(!1),[l,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),[w,x]=(0,s.useState)(!1),[v,E]=(0,s.useState)(!1),[b,C]=(0,s.useState)([]),[_,k]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[N,M]=(0,s.useState)([]),[D,I]=(0,s.useState)(null),[P,L]=(0,s.useState)(null),[R,F]=(0,s.useState)(!1),[B,T]=(0,s.useState)(!1),[O,$]=(0,s.useState)(!1),[j,U]=(0,s.useState)(!1),[W,z]=(0,s.useState)(null),[K,V]=(0,s.useState)(!1),G=(0,s.useRef)(null),{searchTerm:H,loading:q,currentPage:Y,totalPages:J,loadingMore:X,selectedIndex:Z,isLoadingMoreRef:Q,setSearchTerm:ee,setLoading:te,setCurrentPage:ne,setTotalPages:ae,setLoadingMore:oe,setSelectedIndex:re,resetSearch:ie,handleSearchTermChange:se,searchPlugins:ce,searchPages:le,searchPosts:ue,searchCommandsAndContent:de,loadMore:me,setupScrollHandler:pe,fuzzySearchCommands:he,fuzzySearchWithHighlight:fe}=function(){const[e,t]=(0,s.useState)(""),[n,a]=(0,s.useState)(!1),[o,r]=(0,s.useState)(1),[i,l]=(0,s.useState)(0),[d,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(0),f=(0,s.useRef)(!1),g=(0,s.useRef)(null),y=(0,s.useCallback)((()=>{t(""),r(1),l(0),h(0)}),[]),w=(0,s.useCallback)((e=>{t(e),h(0)}),[]),x=(0,s.useCallback)((async(e,t,n)=>{const a=await fetch(`https://api.wordpress.org/plugins/info/1.2/?action=query_plugins&per_page=10&page=${t}&search=${encodeURIComponent(e)}`),o=await a.json(),r=(o.plugins||[]).map((e=>{const t=n[e.slug]||{};return{...e,installed:t.installed||!1,active:t.active||!1}}));return l(Math.ceil(o.info?.results||0)/10),r}),[]),v=(0,s.useCallback)((async(e,t=[])=>{if(t.length>0&&e)return ta(t,e,"pages",{maxResults:20,scoreThreshold:.5}).map((e=>e.item));const n=new URLSearchParams({search:e,post_type:"page",per_page:20}).toString();return(await u()({path:`/wp/v2/pages?${n}`,method:"GET"})).map((e=>({id:e.id,title:e.title.rendered||(0,c.__)("(No title)","lexia-command"),url:e.link,status:e.status})))}),[]),E=(0,s.useCallback)(((e,t,n={})=>t&&0!==t.trim().length?ta(e,t,"commands",{maxResults:n.maxResults||50,scoreThreshold:n.scoreThreshold||.6,...n}).map((e=>e.item)):e.map(((e,t)=>({item:e,refIndex:t,score:0})))),[]),b=(0,s.useCallback)(((e,t,n="commands",a={})=>t&&0!==t.trim().length?function(e,t,n="commands",a={}){return ta(e,t,n,{...a,customFuseOptions:{...a.customFuseOptions,includeMatches:!0}}).map((e=>{const t={};return e.matches&&e.matches.forEach((e=>{const n=e.key;t[n]=e.indices||[]})),{...e,highlights:t}}))}(e,t,n,a):e.map(((e,t)=>({item:e,refIndex:t,score:0,highlights:{}})))),[]),C=(0,s.useCallback)((async(e,t,n=[])=>{const a=n.length>0?E(n,e):t(e);if("commands"===window.lexiaCommandData.searchContext)return a;try{const t=new URLSearchParams({query:e}).toString(),n=await u()({path:`/${window.lexiaCommandData.restNamespace}/search?${t}`,method:"GET"});return[...a,...n.data.map((e=>({...e,icon:"📝",action:()=>{window.location.href=e.url}})))]}catch(e){return console.error("Content search API failed:",e),a}}),[E]),_=(0,s.useCallback)((async e=>{if(!(d||o>=i)){m(!0),f.current=!0;try{const t=o+1;await e(t),r(t)}catch(e){console.error("Failed to load more results:",e)}finally{m(!1),setTimeout((()=>{f.current=!1}),100)}}}),[d,o,i]),k=(0,s.useCallback)(((e,t,n)=>{if(!e||!t)return()=>{};const a=e=>{g.current&&clearTimeout(g.current),g.current=setTimeout((()=>{const t=e.target;t.scrollHeight-t.scrollTop<=1.5*t.clientHeight&&n()}),150)},o=document.querySelector(".lexia-command-results");return o&&o.addEventListener("scroll",a),()=>{o&&o.removeEventListener("scroll",a),g.current&&clearTimeout(g.current)}}),[]),S=(0,s.useCallback)((async(e,t=[])=>{if(t.length>0&&e)return ta(t,e,"posts",{maxResults:20,scoreThreshold:.5}).map((e=>e.item));const n=new URLSearchParams({search:e,post_type:"post",per_page:20}).toString();try{const e=await u()({path:`/wp/v2/posts?${n}`,method:"GET",parse:!1}),t=(parseInt(e.headers.get("X-WP-Total")||0),parseInt(e.headers.get("X-WP-TotalPages")||0));return l(t),(await e.json()).map((e=>({id:e.id,title:e.title.rendered||(0,c.__)("(No title)","lexia-command"),url:e.link,status:e.status,excerpt:e.excerpt?.rendered||"",content:e.content?.rendered||"",author:e.author||""})))}catch(e){return console.error("Error fetching posts:",e),[]}}),[]);return{searchTerm:e,loading:n,currentPage:o,totalPages:i,loadingMore:d,selectedIndex:p,isLoadingMoreRef:f,setSearchTerm:t,setLoading:a,setCurrentPage:r,setTotalPages:l,setLoadingMore:m,setSelectedIndex:h,resetSearch:y,handleSearchTermChange:w,searchPlugins:x,searchPages:v,searchPosts:S,searchCommandsAndContent:C,loadMore:_,setupScrollHandler:k,fuzzySearchCommands:E,fuzzySearchWithHighlight:b}}(),{installingPlugin:ge,activatingPlugin:ye,pluginStatuses:we,fetchPluginStatuses:xe,installPlugin:ve,activatePlugin:Ee}=function(){const[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)(null),[o,r]=(0,s.useState)({});return{installingPlugin:e,activatingPlugin:n,pluginStatuses:o,fetchPluginStatuses:async()=>{try{const e=await u()({path:`/${window.lexiaCommandData.restNamespace}/get-plugin-statuses`,method:"GET"});r(e.data||{})}catch(e){console.error("Failed to fetch plugin statuses:",e)}},installPlugin:async e=>{t(e);try{return await u()({path:`${window.lexiaCommandData.restNamespace}/install-plugin`,method:"POST",data:{slug:e}}),r((t=>({...t,[e]:{...t[e],installed:!0}}))),!0}catch(e){return console.error("Plugin installation failed:",e),!1}finally{t(null)}},activatePlugin:async e=>{a(e);try{return await u()({path:`${window.lexiaCommandData.restNamespace}/activate-plugin`,method:"POST",data:{slug:e}}),r((t=>({...t,[e]:{...t[e],installed:!0,active:!0}}))),!0}catch(e){return console.error("Plugin activation failed:",e),!1}finally{a(null)}}}}();(0,s.useEffect)((()=>{console.log("🚀 CommandBar: Initializing on mount"),console.log("🚀 CommandBar: window.lexiaCommandData:",window.lexiaCommandData),function(){console.log("🚀 theme.js: initializeTheme called");const e=Na();console.log("🚀 theme.js: isDarkModeEnabled returned:",e),e?(document.documentElement.classList.add(Aa),console.log("🚀 theme.js: Added dark mode class during init")):(document.documentElement.classList.remove(Aa),console.log("🚀 theme.js: Removed dark mode class during init"));const t=Ia();console.log("🚀 theme.js: theme preference:",t),"system"===t&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener((e=>{"system"===Ia()&&(e.matches?Ma():Da())}))}(),F("true"===localStorage.getItem("lexiaCommandHighContrast")),T((()=>{const e=localStorage.getItem("lexiaCommandReducedMotion");return null!==e?"true"===e:window.matchMedia("(prefers-reduced-motion: reduce)").matches})()),$("true"===localStorage.getItem("lexiaCommandLargerFont"));const e=Na();console.log("🚀 CommandBar: Initial dark mode from isDarkModeEnabled:",e),U(e),(()=>{const e="lexia-command-focus-styles";let t=document.getElementById(e);t||(t=document.createElement("style"),t.id=e,document.head.appendChild(t),t.textContent="\n      .lexia-command-result:focus,\n      .lexia-command-search:focus,\n      .lexia-command-suggestion-button:focus,\n      .components-button:focus {\n        outline: 2px solid #007cba !important;\n        outline-offset: 2px !important;\n        box-shadow: 0 0 0 1px #007cba !important;\n      }\n    ")})()}),[]),(0,s.useEffect)((()=>{(e=>{const t="lexia-command-high-contrast-styles";let n=document.getElementById(t);e?(n||(n=document.createElement("style"),n.id=t,document.head.appendChild(n)),n.textContent='\n      .lexia-command-modal {\n        background: #000 !important;\n        border: 2px solid #fff !important;\n      }\n      \n      .lexia-command-search {\n        background: #000 !important;\n        border: 2px solid #fff !important;\n        color: #fff !important;\n      }\n      \n      .lexia-command-result[data-selected="true"] {\n        background-color: #fff !important;\n        color: #000 !important;\n      }\n      \n      .lexia-command-suggestion-button {\n        background-color: #000 !important;\n        border: 2px solid #fff !important;\n        color: #fff !important;\n      }\n      \n      .lexia-command-suggestion-button:focus {\n        outline: 2px solid #fff !important;\n        outline-offset: 2px !important;\n      }\n    '):n&&n.parentNode&&n.parentNode.removeChild(n),localStorage.setItem("lexiaCommandHighContrast",e?"true":"false"),Sa(e?"High contrast mode enabled":"High contrast mode disabled")})(R)}),[R]),(0,s.useEffect)((()=>{(e=>{const t="lexia-command-reduced-motion-styles";let n=document.getElementById(t);e?(n||(n=document.createElement("style"),n.id=t,document.head.appendChild(n)),n.textContent="\n      .lexia-command-modal-overlay {\n        transition: none !important;\n      }\n      \n      .lexia-command-modal {\n        animation: none !important;\n      }\n      \n      .lexia-command-result {\n        transition: none !important;\n      }\n    "):n&&n.parentNode&&n.parentNode.removeChild(n),localStorage.setItem("lexiaCommandReducedMotion",e?"true":"false"),Sa(e?"Reduced motion mode enabled":"Reduced motion mode disabled")})(B)}),[B]),(0,s.useEffect)((()=>{(e=>{const t="lexia-command-larger-font-styles";let n=document.getElementById(t);e?(n||(n=document.createElement("style"),n.id=t,document.head.appendChild(n)),n.textContent="\n      .lexia-command-modal {\n        font-size: 1.2em !important;\n      }\n      \n      .lexia-command-search {\n        font-size: 1.2em !important;\n      }\n      \n      .lexia-command-result-title {\n        font-size: 1.2em !important;\n      }\n      \n      .lexia-command-suggestion-button {\n        font-size: 1.2em !important;\n      }\n    "):n&&n.parentNode&&n.parentNode.removeChild(n),localStorage.setItem("lexiaCommandLargerFont",e?"true":"false"),Sa(e?"Larger font size enabled":"Larger font size disabled")})(O)}),[O]),(0,s.useEffect)((()=>{const e=()=>{console.log("🎯 CommandBar: Received lexia-theme-change event");const e=Na();console.log("🎯 CommandBar: isDarkModeEnabled returned:",e),U(e),console.log("🎯 CommandBar: Called setDarkMode with:",e)};return window.addEventListener("lexia-theme-change",e),()=>window.removeEventListener("lexia-theme-change",e)}),[]),(0,s.useEffect)((()=>(()=>{const e=e=>{document.querySelector(".lexia-command-modal")&&(e.altKey&&"h"===e.key&&(e.preventDefault(),F((e=>!e))),e.altKey&&"m"===e.key&&(e.preventDefault(),T((e=>!e))),e.altKey&&"f"===e.key&&(e.preventDefault(),$((e=>!e))))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}})()),[]),(0,s.useEffect)((()=>{e?z(document.activeElement):W&&((e,t,n)=>{n&&n.focus()})(0,0,W)}),[e,W]),(0,s.useEffect)((()=>{e&&G.current&&(e=>{if(!e)return;e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby","lexia-command-dialog-title");const t=e.querySelector(".lexia-command-search");t&&(t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls","lexia-command-results"),t.setAttribute("aria-expanded","true"));const n=e.querySelector(".lexia-command-results");n&&(n.setAttribute("role","listbox"),n.setAttribute("id","lexia-command-results"),n.setAttribute("aria-label","Command results")),e.querySelectorAll(".lexia-command-result").forEach(((e,t)=>{e.setAttribute("role","option"),e.setAttribute("id",`lexia-command-result-${t}`);const n="true"===e.getAttribute("data-selected");e.setAttribute("aria-selected",n?"true":"false")}))})(G.current)}),[e,n,b,S,N]);const be=(0,s.useCallback)((()=>ha.filter((e=>{const t=window?.lexiaCommandData?.userCaps||{};return!(e.category===oa&&!t.manage_options||!(e.category!==ra||t.manage_options||"customize"===e.id&&(t.customize||t.edit_theme_options))||e.category===ia&&!t.manage_options)}))),[]);(0,s.useEffect)((()=>{!e||o||m||h||H||a(be())}),[e,o,m,h,H,be]),(0,s.useEffect)((()=>{const e=()=>{i(!0),d(!1),p(!1),f(!1),E(!1),ie(),a([]),C([]),xe(),Sa((0,c.__)("Plugin search mode activated","lexia-command"))};return window.addEventListener("lexiaCommand:showPluginSearch",e),()=>window.removeEventListener("lexiaCommand:showPluginSearch",e)}),[xe,ie]),(0,s.useEffect)((()=>{const e=async()=>{d(!0),i(!1),p(!1),f(!1),E(!1),ie(),a([]),te(!0);try{await xe();const e=(await u()({path:`/${window.lexiaCommandData.restNamespace}/get-plugin-statuses`,method:"GET"})).data||{},t=Object.entries(e).map((([e,t])=>({slug:e,name:e.replace(/-/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),active:t.active,plugin_path:t.plugin_path})));k(t),Sa((0,c.__)("Installed plugins view activated","lexia-command"))}catch(e){console.error("Failed to fetch installed plugins:",e)}finally{te(!1)}};return window.addEventListener("lexiaCommand:showInstalledPlugins",e),()=>window.removeEventListener("lexiaCommand:showInstalledPlugins",e)}),[xe,ie,te]),(0,s.useEffect)((()=>{const e=async e=>{p(!0),i(!1),f(!1),y(!1),x(!1),I(null),ie(),a([]);const t=e?.detail?.searchTerm||"";t&&ee(t),te(!0);try{const e=await le(t);A(e),Sa((0,c.__)("Page search mode activated","lexia-command"))}catch(e){console.error("Failed to fetch pages:",e)}finally{te(!1)}};return window.addEventListener("lexiaCommand:showPageSearch",e),()=>window.removeEventListener("lexiaCommand:showPageSearch",e)}),[ie,le,te,ee]),(0,s.useEffect)((()=>{const e=async e=>{f(!0),p(!1),i(!1),ie(),a([]);const t=e?.detail?.searchTerm||"";t&&ee(t),te(!0);try{const e=await ue(t);M(e),Sa((0,c.__)("Post search mode activated","lexia-command"))}catch(e){console.error("Failed to fetch posts:",e)}finally{te(!1)}};return window.addEventListener("lexiaCommand:showPostSearch",e),()=>window.removeEventListener("lexiaCommand:showPostSearch",e)}),[ie,ue,te]),(0,s.useEffect)((()=>{const e=e=>{const{page:t}=e.detail;I(t),setTimeout((()=>{y(!0),Sa((0,c.__)("Page action menu opened","lexia-command"))}),0)};return window.addEventListener("lexiaCommand:showPageActionMenu",e),()=>window.removeEventListener("lexiaCommand:showPageActionMenu",e)}),[]),(0,s.useEffect)((()=>{const e=e=>{const{post:t}=e.detail;I(t),setTimeout((()=>{x(!0),Sa((0,c.__)("Post action menu opened","lexia-command"))}),0)};return window.addEventListener("lexiaCommand:showPostActionMenu",e),()=>window.removeEventListener("lexiaCommand:showPostActionMenu",e)}),[]),(0,s.useEffect)((()=>(window.lexiaCommandHandlePluginActionMenu=e=>{L(e),setTimeout((()=>{E(!0),Sa((0,c.__)("Plugin action menu opened","lexia-command"))}),0)},()=>{delete window.lexiaCommandHandlePluginActionMenu})),[]),(0,s.useEffect)((()=>{const e=()=>{V(!0)};return window.addEventListener("lexiaCommand:openShortcutSettings",e),()=>window.removeEventListener("lexiaCommand:openShortcutSettings",e)}),[]),(0,s.useEffect)((()=>{if(Q.current)return;if(!H)return o||m||h?o?C([]):m?(te(!0),le("").then((e=>{A(e),te(!1)})).catch((e=>{console.error("Failed to fetch pages:",e),te(!1)}))):h&&(te(!0),ue("").then((e=>{M(e),te(!1)})).catch((e=>{console.error("Failed to fetch posts:",e),te(!1)}))):a(be()),void re(0);if(o&&1!==Y)return void ne(1);if(!o&&!m&&!h)return te(!0),(async()=>{try{window.lexiaCommandData.searchContext="commands";const e=be(),t=he(e,H,{maxResults:50,scoreThreshold:.6});a(t);const n=await de(H,fa,e);a(n);const o=n.length;Sa(o>0?(0,c.__)(`Found ${o} results for ${H}`,"lexia-command"):(0,c.__)(`No results found for ${H}`,"lexia-command"))}catch(e){console.error("Search failed:",e),a(fa(H)||[])}finally{te(!1)}})(),()=>{};const e=setTimeout((async()=>{te(!0);try{if(o){const e=await ce(H,Y,we);C(1===Y?e:t=>[...t,...e]);const t=e.length;Sa(t>0?(0,c.__)(`Found ${t} plugins for ${H}`,"lexia-command"):(0,c.__)(`No plugins found for ${H}`,"lexia-command"))}else if(m){const e=await le(H);A(e);const t=e.length;Sa(t>0?(0,c.__)(`Found ${t} pages for ${H}`,"lexia-command"):(0,c.__)(`No pages found for ${H}`,"lexia-command"))}else if(h){const e=await ue(H);M(e);const t=e.length;Sa(t>0?(0,c.__)(`Found ${t} posts for ${H}`,"lexia-command"):(0,c.__)(`No posts found for ${H}`,"lexia-command"))}}catch(e){console.error("Search failed:",e)}finally{te(!1)}}),300);return()=>clearTimeout(e)}),[H,o,m,h,we,Y,be,ce,le,ue,de,Q,ne,te,re]);const Ce=(0,s.useCallback)((()=>{t(!0),re(0),V(!1),ie(),a([]),C([]),A([]),i(!1),p(!1),f(!1),y(!1),x(!1),E(!1),d(!1),I(null),L(null)}),[re,ie]),_e=(0,s.useCallback)((()=>{t(!1),ie(),a([]),C([]),A([]),i(!1),p(!1),f(!1),y(!1),x(!1),E(!1),V(!1),I(null),L(null)}),[ie]),ke=async()=>{X||!o||!H||Y>=J||await me((async e=>{const t=await ce(H,e,we),n=new Set(b.map((e=>e.slug))),a=t.filter((e=>!n.has(e.slug)));C((e=>[...e,...a]))}))},Se=async()=>{!X&&m&&await me((async e=>{const t=await le(H),n=new Set(S.map((e=>e.id))),a=t.filter((e=>!n.has(e.id)));A((e=>[...e,...a]))}))},Ae=async()=>{!X&&h&&await me((async e=>{const t=await ue(H),n=new Set(N.map((e=>e.id))),a=t.filter((e=>!n.has(e.id)));M((e=>[...e,...a]))}))};(0,s.useEffect)((()=>o?pe(e,o,ke):m?pe(e,m,Se):h?pe(e,h,Ae):()=>{}),[e,o,m,h,Y,J,X,H,pe,ke,Se,Ae]),dn((0,s.useCallback)(((t,a)=>{if(console.log(`🔑 CommandBar: Handling shortcut command: ${t}, isOpen: ${e}`),"openCommand"===t)a.preventDefault(),Ce();else if(t.startsWith("selectResult")&&e){a.preventDefault();const e=parseInt(t.replace("selectResult",""))-1;let r=[];if(r=o?b:m?S:h?N:l?_:n.length>0?n:be(),console.log(`🔑 CommandBar: Trying to select result ${e+1}, currentResults length: ${r.length}`),console.log("🔑 CommandBar: Current results:",r),r[e]){console.log("🔑 CommandBar: Executing action for result:",r[e]);const t=r[e];l&&window.lexiaCommandHandlePluginActionMenu?window.lexiaCommandHandlePluginActionMenu(t):m&&t.id||h&&t.id?window.location.href=`${window.lexiaCommandData.adminUrl}post.php?post=${t.id}&action=edit`:o&&t.slug?"not-installed"===t.status?ve(t.slug):"inactive"===t.status&&Ee(t.slug,t.plugin_path):t.action&&!1!==t.action(_e)&&_e()}else console.log(`🔑 CommandBar: No result found at index ${e}`)}else t.startsWith("selectResult")&&console.log("🔑 CommandBar: selectResult shortcut triggered but command bar is not open")}),[e,Ce,_e,o,m,h,l,b,S,N,_,n,ve,Ee]));const Ne=(0,s.useCallback)((t=>{e&&!H&&(o?(t.preventDefault(),i(!1)):l&&!v?(t.preventDefault(),d(!1)):v?(t.preventDefault(),E(!1),d(!0),L(null)):m&&!g?(t.preventDefault(),p(!1)):g?(t.preventDefault(),y(!1),I(null)):h&&!w?(t.preventDefault(),f(!1)):w&&(t.preventDefault(),x(!1),I(null)))}),[e,o,l,v,m,g,h,w,H]);return dn({key:"Backspace"},Ne),dn({key:"Delete"},Ne),(0,s.useEffect)((()=>e&&G.current?((e,t)=>{if(!e)return()=>{};const n=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(0===n.length)return()=>{};const a=n[0],o=n[n.length-1],r=e.querySelector(".lexia-command-search, [cmdk-input]");r?setTimeout((()=>{r.focus()}),50):a.focus();const i=e=>{if("Escape"===e.key&&t)return e.preventDefault(),void t();"Tab"===e.key&&(e.shiftKey&&document.activeElement===a?(e.preventDefault(),o.focus()):e.shiftKey||document.activeElement!==o||(e.preventDefault(),a.focus()))};return e.addEventListener("keydown",i),()=>{e.removeEventListener("keydown",i)}})(G.current,_e):()=>{}),[e,_e]),e?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"lexia-command-modal-overlay components-modal__screen-overlay"},(0,r.createElement)("div",{className:"lexia-command-modal",ref:G},(0,r.createElement)("div",{className:"components-modal__header"},(0,r.createElement)("div",{className:"components-modal__header-heading",id:"lexia-command-dialog-title"},K?(0,c.__)("Keyboard Shortcuts Settings","lexia-command"):o?(0,c.__)("Search WordPress Plugins","lexia-command"):m&&!g?(0,c.__)("Search Pages","lexia-command"):g?(0,c.__)("Page Actions","lexia-command"):h&&!w?(0,c.__)("Search Posts","lexia-command"):w?(0,c.__)("Post Actions","lexia-command"):(0,c.__)("LexiaCommand","lexia-command")),(0,r.createElement)(La,{highContrast:R,setHighContrast:F,reducedMotion:B,setReducedMotion:T,largerFontSize:O,setLargerFontSize:$,darkMode:j,setDarkMode:U}),(0,r.createElement)("button",{type:"button",className:"components-button has-icon",onClick:_e,"aria-label":(0,c.__)("Close dialog","lexia-command")},(0,r.createElement)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,r.createElement)("path",{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})))),(0,r.createElement)(Ra,{commands:be(),enabled:!(o||m||h||K)},v&&P?(0,r.createElement)("div",{className:"lexia-command-container"},(0,r.createElement)(ba,{plugin:P,closeCommandBar:_e,onBack:()=>{E(!1),L(null),d(!0),Sa((0,c.__)("Installed plugins view activated","lexia-command"))}})):g&&D?(0,r.createElement)("div",{className:"lexia-command-container"},(0,r.createElement)(va,{page:D,closeCommandBar:_e,onBack:()=>{y(!1),I(null),Sa((0,c.__)("Page search mode activated","lexia-command"))}})):w&&D?(0,r.createElement)("div",{className:"lexia-command-container"},(0,r.createElement)(Ea,{post:D,closeCommandBar:_e,onBack:()=>{x(!1),I(null),Sa((0,c.__)("Post search mode activated","lexia-command"))}})):(0,r.createElement)(qt,{className:"lexia-command-content",label:"Command Menu",filter:()=>1,shouldFilter:!1},!K&&(0,r.createElement)(qt.Input,{value:H,onValueChange:se,placeholder:o?(0,c.__)("Search for plugins...","lexia-command"):l?(0,c.__)("Search installed plugins...","lexia-command"):m?(0,c.__)("Search for pages...","lexia-command"):(0,c.__)("Type a command or search...","lexia-command"),className:"lexia-command-search",autoComplete:"off",autoFocus:!0}),(0,r.createElement)(qt.List,{className:"lexia-command-results"},!q||X||ge||ye?o?(0,r.createElement)(ya,{pluginResults:b,searchTerm:H,selectedIndex:Z,setSelectedIndex:re,installPlugin:ve,activatePlugin:Ee,installingPlugin:ge,activatingPlugin:ye,loadingMore:X,hasMorePages:Y<J}):l?(0,r.createElement)(Ca,{installedPlugins:_,selectedIndex:Z,setSelectedIndex:re,closeCommandBar:_e,onSelectPlugin:window.lexiaCommandHandlePluginActionMenu}):K?(0,r.createElement)(Ba,{onBack:()=>{V(!1),Sa((0,c.__)("Returned to command bar","lexia-command"))},closeCommandBar:_e}):m?(0,r.createElement)(wa,{pageResults:S,searchTerm:H,selectedIndex:Z,setSelectedIndex:re,loadingMore:X,hasMorePages:Y<J,closeCommandBar:_e}):h?(0,r.createElement)(xa,{postResults:N,searchTerm:H,selectedIndex:Z,setSelectedIndex:re,loadingMore:X,hasMorePosts:Y<J,closeCommandBar:_e}):n.length>0?(0,r.createElement)(_a,{results:n,selectedIndex:Z,setSelectedIndex:re,closeCommandBar:_e}):H?(0,r.createElement)(ka,{searchTerm:H}):(0,r.createElement)(_a,{results:be(),selectedIndex:Z,setSelectedIndex:re,closeCommandBar:_e}):(0,r.createElement)(qt.Empty,{className:"lexia-command-loading"},(0,c.__)("Searching...","lexia-command"))),(o&&b.length>0||m&&S.length>0||h&&N.length>0||n.length>0&&H)&&(0,r.createElement)(Fa,{results:o?b.map((e=>({title:e.name,url:e.homepage||`https://wordpress.org/plugins/${e.slug}/`}))):m?S.map((e=>({title:e.title,url:e.link}))):h?N.map((e=>({title:e.title,url:e.link}))):n.map((e=>({title:e.title,description:e.description||""}))),format:"text",buttonText:o?(0,c.__)("Copy Plugins","lexia-command"):m?(0,c.__)("Copy Pages","lexia-command"):h?(0,c.__)("Copy Posts","lexia-command"):(0,c.__)("Copy Results","lexia-command")})))))):null}),null),document.getElementById("lexia-command-root")),window.LexiaCommand={searchCommands:fa,openCommandBar:()=>{const e=new KeyboardEvent("keydown",{key:"k",metaKey:!0,bubbles:!0});document.dispatchEvent(e)}}})();